!function(){function e(e,t,n,a,l,r,i){try{var o=e[r](i),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(a,l)}function t(t){return function(){var n=this,a=arguments;return new Promise((function(l,r){var i=t.apply(n,a);function o(t){e(i,l,r,o,c,"next",t)}function c(t){e(i,l,r,o,c,"throw",t)}o(void 0)}))}}System.register(["./app-legacy.CVtZXpP_.js"],(function(e,n){"use strict";var a,l,r,i,o,c,s,d,u,m,y,h,p,f,b,v,g,P,_,M,k,A,w,S,V,E,x,z,C,L,T,N;return{setters:[e=>{a=e.i,l=e.bC,r=e.aF,i=e.bD,o=e._,c=e.bE,s=e.a,d=e.am,u=e.as,m=e.a_,y=e.n,h=e.j,p=e.bF,f=e.bG,b=e.a8,v=e.bH,g=e.bI,P=e.bJ,_=e.bK,M=e.aN,k=e.bL,A=e.W,w=e.ao,S=e.bM,V=e.ag,E=e.ah,x=e.bN,z=e.bf,C=e.bO,L=e.at,T=e.bP,N=e.bQ}],execute:function(){e("default",(function({method:e}){const{billingAddressOption:t}=y(),{i18n:n}=a(),l=h(),i=p({isPayWithPayPalButton:!0}),{inMemoryPayPalParts:{accountStatus:o}}=f(),c=b(),d=v(),u=!l&&("error"===i.value.status||"error"===o.value.status),m=void 0!==g(),{purchasingCompany:R}=P(),{isValid:j}=_(),[B,F]=r("");M((()=>{R&&m&&(t.value=j?"billing":"shipping")}),[R,j,m,t]),k({active:m&&"loading"===o.value.status});const I=l||"connected"!==o.value.status?null:s(S,{children:s(A,{inlineAlignment:"center",children:s(w,{children:n.translate("wallets.logged_in",{email:o.value.email})})})}),O=c||B,W=u?s(S,{children:s(A,{children:s(V,{errorType:E.PaymentError,tone:"critical",children:O})})}):null,X=d?n.translate("brand.venmo"):n.translate("brand.paypal"),Y=e.type===x.PayPal?s(S,{children:[O&&s(V,{errorType:E.PaymentError,tone:"critical",children:O}),s(z,{columns:["fill","auto"],inlineAlignment:"start",minInlineSize:"fill",blockAlignment:"center",minBlockSize:60,spacing:"loose",children:[s(w,{textAlign:"center",children:n.translate("wallets.logged_in",{email:e.paypalAccountEmail})}),s(D,{paypalToken:e.token,setValidationMessage:F})]})]}):null,$=s(S,{children:s(A,{inlineAlignment:"center",children:s(C,{children:n.translate("wallets.redirection_notice",{walletName:X,buttonLabel:n.translate("wallets.call_to_action",{walletName:X})})})})}),G=Y||I||W||$,H=e.type===x.PayPal?e.type:"PAYPAL_EXPRESS";return s(N,{id:H,details:G,secondaryContent:s(T,{wallet:"PAYPAL_EXPRESS",size:"xxsmall"}),accessibilityLabel:X,children:s(L,{children:X})})}));const n={id:"dc4ecefcf00ebff2a78742dd6bf1040bd4714e9f8101f5730eda8e55ac7c5ee5",type:"mutation",name:"DeleteVaultedPaymentMethod",source:"mutation DeleteVaultedPaymentMethod($token:String!){deleteVaultedPaymentMethod(token:$token){errors{localizedMessage __typename}__typename}}"};function D({paypalToken:e,setValidationMessage:y}){const[h,p]=r(!1),{i18n:f,telemetryClient:b}=a(),v=i(),{negotiate:g}=o();c();const{deleteVaultedPaymentMethod:P}=function(){const{i18n:e}=a(),r=l(),i=function(){var a=t((function*(t){try{var a;const{data:e,error:l}=yield r.mutate(n,{variables:{token:t}}),i=(null==l?void 0:l.message)||(null==e||null===(a=e.deleteVaultedPaymentMethod.errors)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.localizedMessage);return i?{error:i}:{error:void 0}}catch(l){return{error:e.translate("customer_payment_methods.delete_customer_mandate.generic_error")}}}));return function(e){return a.apply(this,arguments)}}();return{deleteVaultedPaymentMethod:i}}(),_=function(){var n=t((function*(){try{if(p(!0),e){const{error:t}=yield P(e);t&&y(t),v(),yield g({fieldsToResolve:["paymentMethods"],force:!0,silenceViolations:["non-stock"]})}}catch(t){b.counter({name:"paypal_disconnect_error",value:1})}finally{p(!1)}}));return function(){return n.apply(this,arguments)}}();return s(m,{onClick:_,variant:"plain",loading:h,children:[s(d,{above:"extraSmall",children:s(u,{type:"delete"})}),s(d,{below:"small",children:f.translate("payment.paypal_disconnect")})]})}}}}))}();
