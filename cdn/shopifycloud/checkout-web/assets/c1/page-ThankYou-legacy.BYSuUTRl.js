!function(){const e=["element"],n=["element"];function t(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==n.indexOf(i))continue;t[i]=e[i]}return t}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],-1===n.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}function i(e,n,t,i,r,o,a){try{var l=e[o](a),s=l.value}catch(e){return void t(e)}l.done?n(s):Promise.resolve(s).then(i,r)}function r(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var a=e.apply(n,t);function l(e){i(a,r,o,l,s,"next",e)}function s(e){i(a,r,o,l,s,"throw",e)}l(void 0)}))}}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n,t){return(n=function(e){var n=function(e){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var t=n.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}System.register(["./app-legacy.CVtZXpP_.js","./RememberMeDescriptionText-legacy.DFa_a7Ka.js","./BuyWithPrimeOrderTrackingButton-legacy.DbCNzOcI.js","./useEditorShopPayNavigation-legacy.DSNvU3i0.js","./index-legacy.D6vQOFQw.js","./OffsitePaymentFailed-legacy.DPnP2OuQ.js","./ShipmentBreakdown-legacy.Ab75kHh0.js","./ShipmentLine-legacy.CLC9GXc3.js","./StackedMerchandisePreview-legacy.D7dclKHR.js","./MerchandiseModal-legacy.DZ_7jaSm.js"],(function(i,o){"use strict";var s,d,c,u,h,p,m,_,y,g,f,b,v,k,w,S,C,x,I,T,P,A,E,L,O,R,N,M,D,U,q,B,H,z,$,W,j,F,Y,V,K,Q,G,X,J,Z,ee,ne,te,ie,re,oe,ae,le,se,de,ce,ue,he,pe,me,_e,ye,ge,fe,be,ve,ke,we,Se,Ce,xe,Ie,Te,Pe,Ae,Ee,Le,Oe,Re,Ne,Me,De,Ue,qe,Be,He,ze,$e,We,je,Fe,Ye,Ve,Ke,Qe,Ge,Xe,Je,Ze,en,nn,tn,rn,on,an,ln,sn,dn,cn,un,hn,pn,mn,_n,yn,gn,fn,bn,vn,kn,wn,Sn,Cn,xn,In,Tn,Pn,An,En,Ln,On,Rn,Nn,Mn,Dn,Un,qn,Bn,Hn,zn,$n,Wn,jn,Fn,Yn,Vn,Kn,Qn,Gn,Xn,Jn,Zn,et,nt,tt,it,rt,ot,at,lt,st,dt,ct,ut,ht,pt,mt,_t,yt,gt,ft,bt,vt,kt,wt,St,Ct,xt,It,Tt,Pt,At,Et,Lt,Ot,Rt,Nt,Mt,Dt,Ut,qt,Bt,Ht,zt,$t,Wt,jt,Ft,Yt,Vt,Kt,Qt,Gt,Xt,Jt,Zt,ei,ni,ti,ii,ri,oi,ai,li,si,di;return{setters:[e=>{s=e.a,d=e.R,c=e.a_,u=e.ar,h=e.as,p=e.at,m=e.aM,_=e.aN,y=e.j_,g=e.gP,f=e.i,b=e.k,v=e.km,k=e.aF,w=e.nO,S=e.al,C=e.jS,x=e.b4,I=e.f8,T=e.z,P=e.ao,A=e.W,E=e.aX,L=e.aS,O=e.bw,R=e.nP,N=e.dA,M=e.M,D=e.eO,U=e.nQ,q=e.eV,B=e.dn,H=e.cd,z=e.nR,$=e.D,W=e.nS,j=e.nT,F=e.nU,Y=e.j,V=e.bb,K=e.dj,Q=e.fe,G=e.k8,X=e.em,J=e.cm,Z=e.aD,ee=e.kb,ne=e.bf,te=e.ag,ie=e.nV,re=e.aI,oe=e.T,ae=e.cw,le=e.mW,se=e.mX,de=e.nW,ce=e.kp,ue=e.ay,he=e.nX,pe=e.h5,me=e.nY,_e=e.aR,ye=e.aZ,ge=e.an,fe=e.bJ,be=e.i7,ve=e.dN,ke=e.cR,we=e.nZ,Se=e.n_,Ce=e.n$,xe=e.o0,Ie=e.o1,Te=e.o2,Pe=e.o3,Ae=e.bN,Ee=e.eg,Le=e.o4,Oe=e.bT,Re=e.bz,Ne=e.o5,Me=e.o6,De=e.o7,Ue=e.o8,qe=e.fo,Be=e.o9,He=e.oa,ze=e.e1,$e=e.eh,We=e.bZ,je=e.a1,Fe=e.jz,Ye=e.fx,Ve=e.ff,Ke=e.cc,Qe=e.N,Ge=e.c9,Xe=e.S,Je=e.V,Ze=e.u,en=e.df,nn=e.nK,tn=e.eo,rn=e.ob,on=e.oc,an=e.od,ln=e.ha,sn=e.hm,dn=e.aT,cn=e.b3,un=e.oe,hn=e.of,pn=e.og,mn=e.mE,_n=e.kc,yn=e.cQ,gn=e.bC,fn=e.oh,bn=e.c4,vn=e.g9,kn=e.fi,wn=e.oi,Sn=e.oj,Cn=e.ok,xn=e.ol,In=e.om,Tn=e.nF,Pn=e.eC,An=e.eD,En=e.iG,Ln=e.on,On=e.nf,Rn=e.nb,Nn=e.mQ,Mn=e.oo,Dn=e.op,Un=e.aG,qn=e.oq,Bn=e.bA,Hn=e.or,zn=e.os,$n=e.ot,Wn=e.au,jn=e.ou,Fn=e.ov,Yn=e.fG,Vn=e.ow,Kn=e.ox,Qn=e.oy,Gn=e.ia,Xn=e.i9,Jn=e.oz,Zn=e.oA,et=e.oB,nt=e.oC,tt=e.d3,it=e.P,rt=e.oD,ot=e.oE,at=e.c1,lt=e.oF,st=e.c2,dt=e.c3,ct=e.id,ut=e.oG,ht=e.aE,pt=e.oH,mt=e.oI,_t=e.oJ,yt=e.oK,gt=e.b_,ft=e.bh,bt=e.bg,vt=e.am,kt=e.oL,wt=e.oM,St=e.hM,Ct=e.a5,xt=e.oN,It=e.a2,Tt=e.a3,Pt=e.cX,At=e.aa,Et=e.ad,Lt=e.ae,Ot=e.aj,Rt=e.ak,Nt=e.ap},e=>{Mt=e.a,Dt=e.b,Ut=e.R,qt=e.c,Bt=e.u,Ht=e.d,zt=e.e,$t=e.f},e=>{Wt=e.u,jt=e.B,Ft=e.D},e=>{Yt=e.S,Vt=e.c},e=>{Kt=e.n,Qt=e.S,Gt=e.r,Xt=e.R,Jt=e.o,Zt=e.c,ei=e.p,ni=e.h,ti=e.a,ii=e.q,ri=e.g,oi=e.j,ai=e.k,li=e.s},e=>{si=e.C},e=>{di=e.S},null,null,null],execute:function(){var o=document.createElement("style");o.textContent='.gTxFI{display:flex;align-items:center;justify-content:center}.kfcrU{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto}.mnuHb button{--x-button-border-width: 0;--x-primary-button-border-width: 0;--x-secondary-button-border-width: 0;--x-primary-button-block-padding: 1.2rem;--x-primary-button-inline-padding: 2.4rem;--x-primary-button-border-radius: .8rem;--x-secondary-button-block-padding: 1.2rem;--x-secondary-button-inline-padding: 2.4rem;--x-secondary-button-border-radius: .8rem;font-weight:400}@media (max-width: 999px){.mnuHb button{width:100%}}.ggkpn{display:flex;align-items:center;margin-bottom:-1px;margin-left:.3em;margin-right:.3em}.jNjME{fill:#fff;height:1.1em}@media all and (min-width: 750px){._1ojciyd1{display:flex;align-items:flex-start}}._4xihkw5._4xihkw2{color:var(--x-default-color-accent)}@media all and (max-width: 749px){._4xihkw1{align-items:center}._4xihkw1:not([aria-current=true]){display:none}[dir=ltr] ._4xihkw4{margin-right:var(--x-spacing-small-200)}[dir=rtl] ._4xihkw4{margin-left:var(--x-spacing-small-200)}._4xihkw4{display:inline-flex}}@media all and (min-width: 750px){._4xihkw1{position:relative;flex-direction:column;align-items:center}._4xihkw4{display:flex;width:100%}._4xihkw4._4xihkw3:before,._4xihkw4._4xihkw2:before,._4xihkw4._4xihkw2:after{border-color:var(--x-default-color-accent)}._4xihkw4:before,._4xihkw4:after{content:"";position:relative;top:.6428571428571429em;height:0px;border:.07142857142857142em solid var(--x-default-color-border);display:flex;flex-grow:1}[dir=ltr] ._4xihkw4:before{margin-right:.6428571428571429em}[dir=rtl] ._4xihkw4:before{margin-left:.6428571428571429em}[dir=ltr] ._4xihkw4:after{margin-left:.6428571428571429em}[dir=rtl] ._4xihkw4:after{margin-right:.6428571428571429em}._4xihkw1:first-child ._4xihkw4:before,._4xihkw1:last-child ._4xihkw4:after{visibility:hidden}}@media all and (min-width: 750px){._4xihkw5{text-align:center;margin-top:var(--x-spacing-small-400)}._4xihkw6{position:relative;top:.6428571428571429em;display:flex;flex-grow:1;border:.07142857142857142em solid var(--x-default-color-accent)}._4xihkw6:not(._4xihkw2){border-color:var(--x-default-color-border)}}@media all and (max-width: 749px){._4xihkw5{flex-grow:1}._4xihkw6{display:none}}@keyframes i240O{0%{opacity:0}to{opacity:1}}._4Qmfj{animation:i240O var(--x-duration-base) var(--x-timing-base) forwards}\n/*$vite$:1*/',document.head.appendChild(o),i("default",(function(){var e;const{i18n:n,url:t,shop:{contactEmail:i,hasStorefront:r},source:o,mobileCheckoutSdk:a}=f(),{handleSetIsVerifiedShopAccount:l,status:u,isVerifiedShopAccount:h,fetchAttempts:p}=function(){const{i18n:e}=f(),{track:n}=vi("pay_escrow"),{isVerifiedShopAccount:t,setIsVerifiedShopAccount:i,loading:r,status:o,fetchAttempts:a}=Li();_((()=>{customElements.get("shop-toast-manager")||Ii()}),[]),_((()=>{t||"verified_user"!==o||r||(n("verify_button_removed"),i(!0))}),[t,o,r,n,i]);const l=T((t=>{const{email:r}=t;r&&(n("verify_action_completed"),Oi({email:r,text:e.translate("thank_you.verify_shop_account_confirmation")})),i(!0)}),[n,i,e]);return{status:o,isVerifiedShopAccount:t,loading:r,handleSetIsVerifiedShopAccount:l,fetchAttempts:a}}(),m=a.variant.isStandard(),{purchasingCompany:y}=fe(),{track:g}=vi("follow_link"),v=je("simulated"),k=pe(),w=null==k||null===(e=k.paymentDetails)||void 0===e?void 0:e.buyerActionInfo,S=wt(),C=zt(),x=$t(),I=yi(),{main:{section:E}}=en(),L=function(){var e;const n=$($n),{value:t}=Q(),{value:i}=He(),{locale:r}=f().i18n,{geolocation:o}=Wn(),a=jn(),l=fo.some((e=>r===e||r.startsWith(`${e}-`))),s=t||i,d=go.includes(null!==(e=null==s?void 0:s.countryCode)&&void 0!==e?e:"")&&go.includes(o.country.code),c=!a&&(!l||!d||n),{adsPublisherSettingsTypEnabled:u,draftAdsPublisherSettingsTypEnabled:h,loading:p}=function(e={}){var n,t,i,r;const{data:o,loading:a,error:l}=ce(yo,{skip:e.skip});return{adsPublisherSettingsTypEnabled:null!==(n=null==o||null===(t=o.shop)||void 0===t?void 0:t.adsPublisherSettingsTypEnabled)&&void 0!==n&&n,draftAdsPublisherSettingsTypEnabled:null!==(i=null==o||null===(r=o.shop)||void 0===r?void 0:r.draftAdsPublisherSettingsTypEnabled)&&void 0!==i&&i,loading:a,error:l}}({skip:c});return c&&!a||p?{shouldRender:!1,preview:!1}:function({inEditor:e,isShopCashOffers2pKillswitch:n,adsPublisherSettingsTypEnabled:t,draftAdsPublisherSettingsTypEnabled:i,isAllowedLocale:r,isAllowedCountry:o}){return e?{preview:!0,shouldRender:i&&!n}:{preview:!1,shouldRender:t&&!n&&r&&o}}({isShopCashOffers2pKillswitch:n,adsPublisherSettingsTypEnabled:u,draftAdsPublisherSettingsTypEnabled:h,isAllowedLocale:l,isAllowedCountry:d,inEditor:a})}(),O=Y(),R=St(E);Ct(xt());const{track:N}=function(){const e=Dt(),n=qt(),t=function(){const{status:e}=Li();return"split_user"===e}(),i=K(),{track:r}=fi(),o=bi();return{track:()=>{var a,l,s,d;if(!e||!n)return;const{buyerHasShopApp:c,buyerHasShopPay:u,shopPayOrder:h,orderUpdateOptions:p}=n,m=p.filter((e=>"arrive"!==e)).join(",");r("order_status_page_view/4.2",{page:"thank_you",orderId:e,isShopPayOrder:h,userHasShop:c,userHasPay:u,shippingUpdateOptions:m,experimentFlags:o,pageviewToken:null!==(a=null===(l=i.value.defaultAttributes)||void 0===l?void 0:l.microSessionId)&&void 0!==a?a:"",sessionToken:null!==(s=null===(d=i.value.defaultAttributes)||void 0===d?void 0:d.visitToken)&&void 0!==s?s:"",showVerifyShopAccountButton:t},{omit:["shopifyDomain","checkoutToken"]})}}}();It({stage:void 0===k?Tt.Usable:Tt.Complete,id:"ThankYou"}),Pt("ThankYou"),_((()=>{N()}),[N]);const M=Qe("Checkout::ThankYou::Dynamic::Render","ORDER_STATUS1"),D=Qe("Checkout::ThankYou::Dynamic::Render","ORDER_STATUS2"),U=Qe("Checkout::ThankYou::Dynamic::Render","ORDER_STATUS3"),{header:{logo:q}}=en(),B=b((()=>v?t.storefront():null!=q&&q.link?q.link:o.headerLogoUrl?o.headerLogoUrl:r&&t.storefront()?t.storefront():void 0),[null==q?void 0:q.link,v,r,o.headerLogoUrl,t]);!function(e,n=!0){const t=H(),i=z(),r=$(W),o=$(j);_((()=>{if(n&&e&&!i){if(window.history&&(window.history.replaceState(null,document.title,window.location.href),window.history.pushState(null,document.title,window.location.href)),o||r){const n=()=>{document.hidden||(window.location.href=e)};return window.addEventListener("popstate",n),()=>{window.removeEventListener("popstate",n)}}return t.listen((()=>{window.location.href=e}))}}),[n,e,t,i,o,r])}(B,r);const F=s(d,{children:[s(At,{children:n.translate("thank_you.title")}),s(A,{spacing:Xe.default("large300").when({viewportInlineSize:{min:"medium"}},"large500"),children:[s(oo,{}),s(Et,{children:[s(Lt,{grouped:!0,children:[s(Je,{extensions:M}),s(to,{}),s(Wo,{}),L.shouldRender&&s(fr,{preview:L.preview}),s(bo,{}),x&&s(_i,{}),C&&s(uo,{}),S&&s(ao,{}),w&&s(_o,{}),s(Je,{extensions:D}),I&&s(ho,{}),h?null:s(So,{onSignInCompleted:l,loading:"fetching_status"===u,fetchAttempts:p}),s(lr,{}),s(Je,{extensions:U})]}),s(Ot,{children:[!y&&!m&&r&&s(Rt,{children:s(c,{variant:"primary",size:"large",inlineSize:"fill",href:B,onClick:v?void 0:()=>g("continue_shopping"),children:n.translate("thank_you.return_to_store_link_label")})}),s(Nt,{children:s(P,{textAlign:"center",children:s(ee,{children:n.translate("thank_you.contact_us_html",{contact_us:s(Z,{href:v?void 0:`mailto:${i}`,onClick:v?void 0:()=>g("contact_us"),children:n.translate("thank_you.contact_us")})})})})})]})]})]})]});return O?s(oe,{className:Co.ThankYou,padding:Xe.default(R?["small300","none"]:"large200").when({viewportInlineSize:{min:"extraSmall"}},["small300","none"]).when({viewportInlineSize:{min:"medium"}},"none"),children:F}):F}));var ci=(e=>(e[e.DisplayButton=0]="DisplayButton",e[e.DisplayForm=1]="DisplayForm",e))(ci||{});function ui({children:e,open:n,label:t,onClick:i,icon:r}){return n?s(d,{children:e}):s(u,{children:s(c,{onClick:i,"aria-expanded":!1,children:s(u,{spacing:"small200",blockAlignment:"center",children:[s(h,{type:r}),s(p,{children:t})]})})})}const hi=({label:e,onInputValueChange:n,error:t,value:i})=>{const r=m();return _((()=>{var e;null===(e=r.current)||void 0===e||e.focus()}),[t]),s(y,{id:"email",name:"email",label:e,ref:r,onInput:n,required:!0,error:t,value:i})},pi=({onHandleSubmit:e,isFormSubmitting:n,subscriptionErrorMessage:t})=>{const i=g(""),{i18n:r}=f(),o=i.value,l=b((()=>v(void 0)),[t]),d=l.value,[u,h]=k(!1),p=r.translate("thank_you.order_updates_submit_subscription"),m=b((()=>({state:{email:i},errors:{email:l}})),[i,l]);return _((()=>{u||(d||t)&&(l.value=d||t)}),[u,d,t,l]),s(x,{target:"order.deliveryUpdates",children:s(w,a(a({},m),{},{children:s(S,{onSubmit:()=>{h(!1),/@/.test(o)?(l.value=void 0,e(o)):l.value=r.translate("field_errors.email_invalid")},implicitSubmit:p,children:s(C,{columns:["50%","auto"],spacing:"small200",children:[s(hi,{label:r.translate("contact.email_label"),value:o,error:d,onInputValueChange:e=>{l.value=void 0,h(!0),i.value=e}}),s(c,{variant:"primary",type:"submit",loading:n,children:p})]})})}))})},mi=()=>{const{i18n:e}=f(),{value:n}=I(),{submitSubscribeForShippingUpdate:t,status:i,error:r}=Mt(),[o,a]=k(ci.DisplayButton),[l,c]=k(!0),u=e=>{e&&t(e)},h=T((n=>{switch(n){case"SUBSCRIPTION_FAILED":return e.translate("thank_you.order_updates_subscribe_to_email_notifications_failed");case"EMAIL_ALREADY_EXISTS":return e.translate("thank_you.order_updates_subscribe_to_email_notifications_email_already_exists");case"INVALID_REQUEST_INPUT":case"INVALID_EMAIL":return e.translate("field_errors.email_invalid")}}),[e])(r);_((()=>{c("subscribed"!==i)}),[i,r]);const p={subTitle:e.translate("thank_you.order_status_updates_with_email"),fieldLabel:e.translate("thank_you.order_updates_subscribe_to_email_notifications")};return s(d,{children:[s(P,{children:p.subTitle}),l&&s(A,{padding:["base","none","none","none"],children:s(ui,{label:p.fieldLabel,open:o===ci.DisplayForm,icon:"email",onClick:()=>{null!=n&&n.email?u(n.email):a(ci.DisplayForm)},children:s(pi,{onHandleSubmit:u,isFormSubmitting:"loading"===i,subscriptionErrorMessage:h})})})]})},_i=()=>{const{i18n:e}=f(),n=e.translate("thank_you.order_updates_title"),{background:t,colorLayer:i}=Wt();return s(L,{accessibilityLabel:n,background:t,border:"base",padding:"base",borderRadius:"base",colorLayer:i,children:s(A,{spacing:"small200",children:[s(E,{children:n}),s(mi,{})]})})};function yi(){const e=N(),n=function(){const{value:e}=O(),{value:n}=R(),t="filled"===(null==e?void 0:e.status),i="filled"===(null==n?void 0:n.status),r=t&&e.lines.some((e=>"ONE_TIME_PURCHASE"===e.type&&"available"===e.status&&e.methods.some((e=>null==e?void 0:e.brandedPromise)))),o=t?new Set(e.lines.filter((e=>"available"===e.status)).map((e=>"available"===e.status?e.selectedDeliveryMethodHandle:null))):null,a=i&&n.deliveryExpectationLines.some((({brandedPromise:e,deliveryStrategyHandle:n})=>e&&(null==o?void 0:o.has(n)))),l=r||a,s=i&&n.deliveryExpectationLines.some((({brandedPromise:e,deliveryExpectationPresentmentTitle:n})=>!e&&(null==n?void 0:n.short)&&(null==n?void 0:n.long)));return l||s}(),t=M(),i=function(){const{value:e}=B(),n=null==e?void 0:e.reduce(((e,{type:n})=>(e[n]+=1,e)),{ONE_TIME_PURCHASE:0,SUBSCRIPTION:0});return 1===(null==n?void 0:n.ONE_TIME_PURCHASE)&&n.SUBSCRIPTION>=2}(),r=D(),o=U().length>=q;return e&&o||i||r||n&&t}function gi(){const e=function(){const{value:e}=F("shopPayArtifact");return e}();return!(null==e||!e.optIn)&&Boolean(e.optIn.vaultPhone)}const fi=()=>{const{monorail:e,shop:{myshopifyDomain:n,id:t},source:{checkoutSessionIdentifier:i="checkout_identifier_undefined"}}=f(),r=Y(),o=Number(V(t)),l=r?"checkout_one_redesign":"checkout_one",s=b((()=>({checkoutToken:i,shopId:o,checkoutVersion:l,shopifyDomain:n})),[i,l,n,o]);return{track:T(((n,t,i)=>{var r,o,l;e.record({schemaId:n,payload:(o=null!==(r=null==i?void 0:i.omit)&&void 0!==r?r:[],l=a(a({},s),t),0===o.length?l:Object.keys(l).reduce(((e,n)=>o.includes(n)?e:a(a({},e),{},{[n]:l[n]})),{}))})}),[s,e])}};function bi(){return function(){if(window.shopAppExperimentFlags)return window.shopAppExperimentFlags.sort(((e,n)=>e.name<n.name?-1:1)).map((e=>{return`${e.name}=${n=e.group,{control:"c",treatment:"t"}[n]||n}:r`;var n})).join(",")}()}function vi(e){const n=K(),t=Dt(),{track:i}=fi(),r=bi();return{track:T((o=>{var a,l,s,d;t&&i("order_status_page_interaction/4.0",{interactionType:e,interactionValue:o,orderId:t,pageviewToken:null!==(a=null===(l=n.value.defaultAttributes)||void 0===l?void 0:l.microSessionId)&&void 0!==a?a:"",sessionToken:null!==(s=null===(d=n.value.defaultAttributes)||void 0===d?void 0:d.visitToken)&&void 0!==s?s:"",experimentFlags:r},{omit:["shopifyDomain"]})}),[r,e,i,t,n])}}class ki extends Error{constructor(...e){super(...e),l(this,"name","OptInFetchError")}}function wi(){var e;const{track:n}=vi("follow_link"),{i18n:t,url:i,monorail:o,source:l,checkout:d,shop:h}=f(),{checkoutPublicAccessToken:p}=h,{checkoutSessionIdentifier:m}=l,g=gi(),[b,v]=k(g),[w,S]=k(g),[x,T]=k(!1),{value:P}=Q(),{value:E}=I(),[L,O]=k((null==P?void 0:P.phone)||(null==E?void 0:E.phone)||""),[R,M]=k(null!==(e=null==E?void 0:E.email)&&void 0!==e?e:""),[D,U]=k(),[q,B]=k(),H=N()?{border:"base",background:"base",padding:"base",cornerRadius:"base"}:{border:["base","none","none","none"],background:"subdued",padding:"base",cornerRadius:["none","none","base","base"]},z=G(),$=!(null!=E&&E.phone);_((()=>{o.record({schemaId:"shopify_pay_user_optin_ui_impression/1.0",payload:a(a({},X(l,d,h)),{},{source:"order_created",elementType:"remember_me_box"})})}),[o,l,d,h]);const W=()=>{D&&U(void 0)},{validatePhoneNumber:j}=J(),F=function(){const{i18n:e}=f();return n=>{const t=le(n,e.translate("field_errors.email_blank")),i=se(n,e.translate("field_errors.email_invalid"));return t||i}}();function Y(){return(Y=r((function*(){if(B(void 0),$){const e=!L.includes("+");if(!j(L,e?null==P?void 0:P.countryCode:void 0))return void U(t.translate("field_errors.thank_you_remember_me_phone_invalid"))}else{const e=F(R);if(e)return void U(e)}o.record({schemaId:"shopify_pay_user_optin_ui_interaction/3.2",payload:a(a({},X(l,d,h)),{},{action:$?"update_phone_input":"update_email_input",phoneNumber:L,email:R,source:"order_created",trigger:"manual"})});try{T(!0);const e=yield fetch(i.shopPayOptin(m),{method:"POST",body:JSON.stringify({checkout:{vault_phone:L,vault_email:R,is_checkout_one:!0}}),headers:{"Content-Type":"application/json","X-Shopify-Checkout-Version":"2025-03-18",accept:"application/json",authorization:`Basic ${p}`}});if(200===e.status){const{success:n}=yield e.json();return void(n?S(!0):B(t.translate("shop_pay_remember_me.errors.optin_retry")))}throw new ki("Opt in request didn't succeed")}catch(e){U(t.translate("shop_pay_remember_me.errors.optin"))}finally{T(!1)}}))).apply(this,arguments)}const V=s(Z,{target:"_blank",href:"https://shop.app/pay",onClick:()=>{n("learn_more_pay")},children:t.translate("shop_pay_remember_me.learn_more")}),K=s(ne,{columns:["fill","auto"],spacing:"base",blockAlignment:"end",children:[s(ee,{children:z?t.translate("thank_you.opt_in_payment_only_welcome_message_html",{shopify_pay:s(Yt,{inline:!0,color:"branded",size:"xsmall"})}):t.translate("thank_you.opt_in_welcome_message_html",{shopify_pay:s(Yt,{inline:!0,color:"branded",size:"xsmall"})})}),V]});return s(oe,a(a({},H),{},{children:w?K:s(A,{children:[q?s(te,{tone:"critical",children:q}):null,s(u,{children:s(ie,{value:b,onChange:()=>{const e=!b;o.record({schemaId:"shopify_pay_user_optin_ui_interaction/3.2",payload:a(a({},X(l,d,h)),{},{action:e?"click_remember_me_box":"unclick_remember_me_box",phoneNumber:L,email:R,source:"order_created",trigger:"manual"})}),v(e)},children:z?t.translate("shop_pay_remember_me.payment_information_only_label"):t.translate("shop_pay_remember_me.label")})}),s(re,{open:b,id:"thankYouRememberMe",children:s(A,{children:[s(oe,{padding:["small200","none","none","none"],children:s(C,{spacing:"base",columns:["auto","auto"],children:[$?s(ae,{disabled:x,countryCode:(null==P?void 0:P.countryCode)||"",label:t.translate("shop_pay_remember_me.mobile_phone_number"),icon:"mobile",value:L,error:D,onChange:O,onInput:W}):s(y,{disabled:x,id:"email",name:"email",label:t.translate("shop_pay_remember_me.email_label"),value:R,error:D,onChange:M,onInput:W,required:!1}),s(c,{variant:"primary",onClick:function(){return Y.apply(this,arguments)},loading:x,children:t.translate("shop_pay_remember_me.save")})]})}),s(Ut,{field:$?"phone":"email",link:V})]})})]})}))}const Si=5e3,Ci=e=>{const{duration:n=Si,onClose:t,text:i,subText:r,actionText:o,handleAction:a,id:l,variant:d="default"}=e,[c,u]=k(!1);_((()=>{u(!0);const e=setTimeout((()=>{if(0!==n){u(!1);const e=setTimeout((()=>{t(l)}),300);return()=>clearTimeout(e)}}),n);return()=>clearTimeout(e)}),[n,l,t]);const h=Kt("error"===d?"text-poppy-d1":"text-black");return s("div",{className:Kt("z-max mx-auto flex w-85 transform items-center justify-start gap-x-3 rounded-md border-[0.5px] border-solid border-grayscale-l2l px-4 py-3 text-white shadow-lg transition-transform duration-300 ease-in-out sm_bottom-0 sm_max-w-none sm_rounded-none",c?"translate-y-0":"translate-y-94","error"===d?"bg-poppy-l2":"bg-white"),"data-testid":"shop-toast-element",children:["error"!==d&&s(Qt,{className:"size-8 flex-shrink-0 text-purple-primary"}),s("div",{className:"flex flex-col overflow-hidden",children:[s("div",{className:Kt("font-sans text-body-title-small",h),children:i}),r&&s("div",{className:Kt("truncate font-sans text-caption",h),children:r})]}),o&&a&&s("button",{type:"button","aria-label":o,className:Kt("ml-auto h-8 w-fit max-w-[40%] rounded-sm100 px-3 font-sans text-button-medium","error"===d?"bg-poppy-d1 text-white":"bg-grayscale-l4 text-black"),"data-testid":"toast-action-button",onClick:a,children:o})]})},xi=()=>{const{instanceId:e}=Jt(),{trackPageImpression:n}=Zt(),[t,i]=k([]),{recordCounter:r}=ei(),o=T((e=>{i((n=>n.filter((n=>n.id!==e))))}),[]),l=T((e=>{i((n=>[...n,e]))}),[]),d=b((()=>({renderToast:({detail:e})=>{e.flow&&r("shop_js_toast_rendered",{attributes:{flow:e.flow,variant:e.variant||"default"}}),n({allowDuplicates:!0,analyticsTraceId:e.analyticsTraceId,flow:e.flow,page:"RENDER_TOAST"}),l(e)}})),[l,r,n]);return ni(d),de(s(ii,{instanceId:e,type:"toast",variant:"default",children:s("div",{className:"fixed inset-x-0 bottom-8 z-max mx-auto flex flex-col items-center gap-3",children:t.map((e=>s(Ci,a(a({},e),{},{onClose:o}),e.id)))})}),ti.body)},Ii=()=>Gt((n=>{let{element:i}=n,r=t(n,e);return s(Xt,{element:i,featureName:"ShopToastManager",children:s(xi,a({},r))})}),{methods:["renderToast"],name:"shop-toast-manager",props:{},shadow:"open"}),Ti={id:"520f926255e48c24cf1b0e497a7dfa36db1b5b10f628941f45c629153aa67e5f",type:"query",name:"PendingPayEscrowReceipt",source:"query PendingPayEscrowReceipt($receiptId:ID!,$sessionToken:String!){receipt(receiptId:$receiptId,sessionInput:{sessionToken:$sessionToken}){...on ProcessedReceipt{shopAppLinksAndResources{hasPendingPayEscrow __typename}__typename}__typename}}"},Pi=5,Ai=(e,n)=>{var t,i;return Boolean("ProcessedReceipt"===(null==e||null===(t=e.receipt)||void 0===t?void 0:t.__typename)&&(null==e||null===(i=e.receipt)||void 0===i||null===(i=i.shopAppLinksAndResources)||void 0===i?void 0:i.hasPendingPayEscrow))&&!n};function Ei(){const e=qt();return Boolean(null==e?void 0:e.payEscrowMayExist)}function Li(){const e=ue(he),n=pe(),t=Ei(),[i,r]=k(!t),{pendingPayEscrow:o,loading:l,attempts:s}=function({payEscrowMayExist:e,receiptId:n,sessionToken:t,retries:i=Pi}){const r=!e||!n||!t,o=m(1),a=m(!0),[l,s]=k(!r),{data:d,loading:c,error:u,refetch:h}=ce(Ti,{variables:{receiptId:n,sessionToken:t},skip:r});_((()=>{Ai(d,u)&&(s(!1),a.current=!1)}),[d,u,i]);const p=T((()=>{a.current&&o.current<i&&(a.current=!1,setTimeout((()=>{h(),o.current++,a.current=!0,o.current<i?p():s(!1)}),1e3))}),[h,i]);return _((()=>{!c&&l&&p()}),[c,l,p]),{pendingPayEscrow:Ai(d,u),loading:l,error:u,attempts:o.current}}({payEscrowMayExist:t,receiptId:null==n?void 0:n.id,sessionToken:e}),d={status:"verified_user",isVerifiedShopAccount:i,setIsVerifiedShopAccount:r,loading:l,fetchAttempts:s};return t?a(a({},d),{},l?{status:"fetching_status"}:{status:o?"split_user":"verified_user"}):d}const Oi=({email:e,text:n})=>{const t=document.createElement("shop-toast-manager");document.body.appendChild(t),t.renderToast({flow:"thank_you_page_escrow",text:n,subText:e})};function Ri(){const e=pe();return null==e?void 0:e.completedRemoteCheckouts}function Ni({message:e,loading:n}){return n?s(_e,{children:s(me,{lines:1,size:"base"})}):e?s(p,{children:e}):null}function Mi(){const{i18n:e}=f(),{track:n}=vi("follow_link");return s(d,{children:s(ne,{columns:["fill","auto"],spacing:"base",blockAlignment:"end",children:[s(p,{children:e.translate("shop_pay.completed_with_shop_pay.text",{shopPay:s(Yt,{inline:!0,color:"branded",size:"xsmall"})})}),s(Z,{target:"_blank",href:"https://shop.app/pay",onClick:()=>n("learn_more_pay"),children:e.translate("shop_pay.completed_with_shop_pay.learn_more")})]})})}function Di({message:e,loading:n,completedWithShopPay:t}){return s(A,{spacing:"small300",children:[s(ye,{}),s(ge,{spacing:"small500"}),e||n?s(Ni,{message:e,loading:n}):null,t?s(Mi,{}):null]})}function Ui(){const{i18n:e}=f(),{purchasingCompany:n}=fe();return n?s(A,{spacing:"small200",children:[s(E,{children:e.translate("thank_you.company_location_section_title")}),s(A,{spacing:"none",children:[s(P,{children:n.company.name}),s(P,{children:n.location.name})]})]}):null}function qi({lines:e}){return e.length>0?s(A,{spacing:"none",children:e.map((e=>s(P,{children:e},e)))}):null}function Bi(){var e;const{i18n:n}=f(),{value:t}=O(),i=be(t,"ONE_TIME_PURCHASE"),r="available"===(null==i?void 0:i.status)&&(null===(e=i.methods.find((e=>"PICK_UP"===e.methodType)))||void 0===e?void 0:e.pickupLocation);return s(A,{spacing:"small200",children:[s(E,{children:n.translate("thank_you.pick_up_in_store_marker.shipping")}),r?s(ve,{address:r.address,multiline:!0}):null]})}const Hi=["SHOP_CASH_BALANCE"];class zi extends Error{constructor(...e){super(...e),l(this,"name","PaymentMethodError")}}const $i=" · ";function Wi({cost:e,method:n}){var t;const{i18n:i,telemetryClient:r}=f(),{value:o}=ke(),{value:a}=we(),l=Se(),c=pe(),h=null==c?void 0:c.paymentDetails,m=null==c?void 0:c.paymentExtensionBrand,_=Ki({paymentDetails:h}),y=$(Ce),g=Boolean(null===(t=xe())||void 0===t?void 0:t.amount),b=a&&!g,v=!e||b?null:s(p,{children:[$i,i.formatCurrency(e.amount,{currency:e.currencyCode,form:"explicit"})]});switch(n.type){case"direct":case Ae.CreditCard:return s(ji,{method:n,payment:v});case Ae.PayPal:return s(Fi,{payment:v});case"wallet":{if("PAYPAL_EXPRESS"===n.name)return s(Fi,{payment:v});if("SHOPIFY_INSTALLMENTS"===n.name)return s(Yi,{walletContent:n.walletContent});if("SHOP_PAY"===n.name)return s(Vi,{payment:v,paymentDetails:h,walletContent:n.walletContent,paymentExtensionBrand:m});const e=e=>{switch(e){case"APPLE_PAY":return i.translate("brand.apple_pay");case"GOOGLE_PAY":return i.translate("brand.google_pay");default:return r.error(new zi(`Unknown wallet payment method for label: ${e}`)),null}};return s(u,{blockAlignment:"center",spacing:"small200",children:[(e=>{switch(e){case"APPLE_PAY":return s(Ie,{type:"apple-pay"});case"GOOGLE_PAY":return s(Ie,{type:"google-pay"});default:return r.error(new zi(`Unknown wallet payment method for icon: ${e}`)),null}})(n.name),s(P,{children:[_({displayBrandLabel:!0})||e(n.name),v]})]})}case"walletsPlatformPaymentMethod":var k;return s(ne,{blockAlignment:"center",spacing:"small300",columns:["auto","fill","auto"],children:[s(Ie,{type:n.name}),s(P,{children:[null!==(k=null==h?void 0:h.paymentDescriptor)&&void 0!==k?k:_({displayBrandLabel:!0}),v]})]});case"local":{const e=null==o?void 0:o.find((e=>"local"===e.type&&e.name===n.name)),t=(null==e?void 0:e.displayName)||n.name;return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:n.name}),s(P,{children:[t,v]})]})}case"paymentOnDelivery":return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"cash"}),s(P,{children:[i.translate("payment_gateway.cash_on_delivery_label"),v]})]});case"manualPayment":case"customManualPayment":return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"cash"}),s(P,{children:[n.name,v]})]});case"deferred":return l?null:s(A,{spacing:"none",children:a&&"FIXED"!==a.type?s(d,{children:[s(P,{children:a.translatedName}),s(P,{children:i.translate("payment_gateway.deferred_payment_label")})]}):s(P,{children:[i.translate("payment_gateway.deferred_payment_label"),v]})});case"giftCard":{if(y)return null;const e=n.code.slice(-4).toUpperCase();return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"gift-card"}),s(P,{children:[i.translate("payment.masked_digits_label",{last_digits:e}),v]})]})}case"redeemable":if("STORE_CREDIT"===n.redemptionSource)return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"store-credit"}),s(P,{children:[i.translate("payment.store_credit.label"),v]})]});if("SHOP_CASH"===n.redemptionSource){var w;const e=n.redemptionContent;return"ZERO_BALANCE_OFFER"===(null==e?void 0:e.redemptionPaymentOptionKind)?null:null!=e&&null!==(w=e.details)&&void 0!==w&&w.length?e.details.map((e=>{if(!Hi.includes(e.redemptionType))return null;const n=e.destinationAmount&&!b?s(p,{children:[$i,i.formatCurrency(parseFloat(e.destinationAmount.amount),{currency:e.destinationAmount.currencyCode,form:"short"})]}):null;return"SHOP_CASH_BALANCE"===e.redemptionType?s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"shop-cash"}),s(P,{children:[i.translate("order_summary.shop_cash_title"),n]})]},e.redemptionType):null})):s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"shop-cash"}),s(P,{children:[i.translate("order_summary.shop_cash_title"),v]})]})}if("CUSTOM"===n.redemptionSource){var S;const e=n.redemptionContent,t=e?null===(S=Pe(e))||void 0===S?void 0:S.toUpperCase():"";return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"gift-card"}),s(P,{children:[i.translate("payment.ends_with_label",{last_digits:t||""}),v]})]})}return null;case"offsite":case"customOnsite":{const e=null==h?void 0:h.paymentIcon,t=e&&!["generic","usdc"].includes(e)?n.name:Gi(m);return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:e||m||"generic"}),s(P,{children:[t,v]})]})}case"bank":{var C,x;const t=" · ";return s(A,{spacing:"small400",children:[s(p,{children:n.bankName}),s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:Te(null!==(C=n.bankName)&&void 0!==C?C:"")}),s(P,{children:[i.translate("payment.masked_digits_label",{last_digits:null!==(x=n.lastDigits)&&void 0!==x?x:""}),n.lastDigits?t:null,(null==e?void 0:e.amount)&&i.formatCurrency(e.amount,{currency:e.currencyCode,form:"short"})]})]})]})}default:return null}}function ji({method:e,payment:n}){var t;const{i18n:i}=f(),{purchasingCompany:r}=fe(),{value:o}=we(),a=Se(),l=null!==(t=e.brand)&&void 0!==t?t:"generic",d="direct"===e.type?e.creditCardLastFourDigits:e.displayLastDigits,c="MAESTRO"===l?i.translate("payment_gateway.debit_card_label"):i.translate("payment_gateway.credit_card_label"),m=d?i.translate("payment.masked_digits_label",{last_digits:d}):c;return s(A,{spacing:"small400",children:[o&&!a?s(P,{children:o.translatedName}):null,s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:l}),s(P,{children:[m,n]})]}),"direct"===e.type&&e.vaultingAgreement?s(u,{blockAlignment:"center",spacing:"small400",children:[s(h,{size:"small",type:"check"}),s(p,{color:"subdued",children:r?i.translate("payment.card_vaulted_company_location"):i.translate("payment.payment_method_saved")})]}):null]})}function Fi({payment:e}){const{i18n:n}=f();return s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"paypal"}),s(P,{children:[n.translate("brand.paypal"),e]})]})}function Yi({walletContent:e}){const{i18n:n}=f(),t=qt();return s(A,{spacing:"small300",children:[s(u,{blockAlignment:"center",spacing:"small200",children:[null!=e&&e.creditCardBrand?s(Ie,{type:e.creditCardBrand}):s(Yt,{color:"branded",size:"xsmall"}),s(P,{children:(null==e?void 0:e.creditCardLastFourDigits)&&n.translate("payment.masked_digits_label",{last_digits:e.creditCardLastFourDigits})})]}),s(P,{children:[n.translate("shop_pay_remember_me.installments.paid_in_installments"),t?s(P,{children:s(Z,{target:"_blank",href:t.shopInstallmentsViewSchedules,children:n.translate("shop_pay_remember_me.installments.view_schedule")})}):null]})]})}function Vi({payment:e,paymentDetails:n,walletContent:t,paymentExtensionBrand:i}){const r=Ki({paymentDetails:n}),{i18n:o}=f(),a=Ee();return i?s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:i}),s(P,{children:[Gi(i),e]})]}):null!=n&&n.paymentCardBrand?s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:n.paymentCardBrand}),s(P,{children:[r({displayBrandLabel:!1}),e]})]}):a&&"IDEAL"===(null==t?void 0:t.paymentMethod)?s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"ideal"}),s(P,{children:[o.translate("payment.ideal_label"),e]})]}):s(u,{blockAlignment:"center",spacing:"small200",children:[s(Ie,{type:"shop-pay"}),s(P,{children:[r({displayBrandLabel:!0})||o.translate("payment_gateway.shop_pay.name"),e]})]})}function Ki({paymentDetails:e}){const{i18n:n}=f();return T((({displayBrandLabel:t})=>{if(!e||!e.creditCardLastFourDigits)return null;const i=function(e){return null!=e&&e.paymentCardBrand?Qi.get(e.paymentCardBrand):void 0}(e),r=n.translate("payment.masked_digits_label",{last_digits:e.creditCardLastFourDigits});return i&&t?`${i} ${r}`:r}),[e,n])}const Qi=new Map([["UNKNOWN",void 0],["AMERICAN_EXPRESS","Amex"],["BOGUS","Bogus"],["CARTESBANCAIRES","Cartes Bancaires"],["DANKORT","Dankort"],["DINERS_CLUB","Diners Club"],["DISCOVER","Discover"],["EFTPOS_AU","EftposAu"],["ELO","Elo"],["FORBRUGSFORENINGEN","Forbrugsforeningen"],["HYPERCARD","HyperCard"],["INTERAC","Interac"],["JCB","JCB"],["LASER","Laser"],["MAESTRO","Maestro"],["MASTER","Mastercard"],["SOLO","Solo"],["SWITCH","Switch"],["UNIONPAY","UnionPay"],["VISA","Visa"]]);function Gi(e){return"usdc"===e?"Crypto: USDC":""}function Xi({shippingRequired:e=!0}={}){const{i18n:n}=f(),{value:t}=Q(),i=yi();return e&&t?s(A,{spacing:"small200",children:[i?s(p,{color:"subdued",children:n.translate("thank_you.shipping_address_title")}):s(E,{children:n.translate("thank_you.shipping_address_title")}),s(ve,{address:t,multiline:!0})]}):null}function Ji(){var e;const{value:n}=O(),t=$(Le),{i18n:i,shop:{name:r,id:o,remoteShopsConfigMap:a}}=f(),l=Ri(),{value:c}=Oe(),u=null==l?void 0:l.filter((e=>"submitted"===e.status)),h=Boolean(null==u?void 0:u.length);if(!n||"unavailable"===n.status)return null;const p=t&&(null===(e=n.lines)||void 0===e?void 0:e.some((e=>{var n;return null===(n=e.targetMerchandiseLines)||void 0===n?void 0:n.some((e=>e.properties.some((e=>"_shopify_non_subscription_item"===e.name))))}))),m=n.lines.filter((e=>!p||"SUBSCRIPTION"!==e.type)),_=[...new Set(m.map((({type:e})=>e)))],y=_.length>1&&_.includes("SUBSCRIPTION");return s(d,{children:s(A,{spacing:"small200",children:[s(E,{children:i.translate("thank_you.shipping_method_title")}),Re(m).map((e=>{const n=Ne(e);if(!n)return null;const t=((e,n)=>y||"ONE_TIME_PURCHASE"!==e.type?"ONE_TIME_PURCHASE"===e.type?`${i.translate("shipping.shipping_method_first_shipment_group_title",{count:1})} · ${null==n?void 0:n.title}`:`${i.translate("shipping.shipping_method_recurring_shipments_group_title.other")} · ${null==n?void 0:n.title}`:null==n?void 0:n.title)(e,n);if(h){const{shopName:t}=Me({deliveryLine:e,remoteMerchandiseDetails:c,remoteShopsConfigMap:a,localShopId:o,localShopName:r});return s(P,{children:`${t} · ${n.title}`},n.handle)}return s(P,{children:t},n.handle)}))]})})}const Zi=" · ";function er({completedRemoteCheckouts:e}){const n=yi(),{i18n:t,shop:{name:i,remoteShopsConfigMap:r}}=f(),o=De(e);if(!o.length)return null;const a=o.map((e=>{var n;const i=`${(null==r||null===(n=r.get(e.shopId))||void 0===n?void 0:n.name)||t.translate("thank_you.thank_you_from_other_store")}${Zi}`;return s(P,{children:[i,e.title]},e.handle)}));if(n){const e=`${i}${Zi}${t.translate("shipping.split_shipping_multiple_shipment_label")}`;return s(A,{spacing:"small200",children:[s(p,{color:"subdued",children:t.translate("thank_you.shipping_method_title")}),e,a]})}return s(A,{spacing:"small200",children:[s(E,{children:t.translate("thank_you.shipping_method_title")}),a]})}function nr({shippingRequired:e,showMethods:n}){const t=Ri();return e||null!=t&&t.length?s(d,n?{children:[s(Xi,{shippingRequired:e}),s(Ji,{})]}:{children:[s(Xi,{shippingRequired:e}),null!=t&&t.length?s(er,{completedRemoteCheckouts:t}):null]}):null}function tr(){const{i18n:e}=f(),{value:n}=Q(),{value:t}=O(),i=be(t,"ONE_TIME_PURCHASE"),r="available"===(null==i?void 0:i.status)?i.methods.find((e=>"PICKUP_POINT"===e.methodType)):void 0,o=null==r?void 0:r.pickupLocation,a=n||(null==o?void 0:o.address);return a&&null!=o&&o.name&&(a.lastName=o.name),a?s(A,{spacing:"small200",children:[s(E,{children:e.translate("pickup_point.title")}),s(ve,{address:a,multiline:!0,hiddenFields:["firstName"]}),o&&"PickupPointLocation"===o.type&&o.carrierCode?s(Ue,{pickupLocation:o}):null]}):null}const ir=" · ",rr="unknown";function or(){const{shop:{name:e}}=f(),{value:n}=qe(),t=Ri(),{i18n:i,shop:{remoteShopsConfigMap:r}}=f();if(null==t||!t.length)return null;const o=[],a=new Map([[rr,{method:null,items:[]}]]);return null==n||n.lines.forEach((n=>{const t=ar(n.method);a.set(t,{method:n.method,items:[{shopName:e,cost:n.cost,textKey:`local-${t}`}]})})),t.forEach((e=>{var n,t;const{status:l,shopId:s}=e,d=(null==r||null===(n=r.get(s))||void 0===n?void 0:n.name)||i.translate("thank_you.thank_you_from_other_store");"failed"!==l?null===(t=e.remotePurchaseOrder.paymentLines)||void 0===t||t.forEach((n=>{const{cost:t,method:i}=n;if(i){var r;const n=ar(i);a.has(n)||a.set(n,{method:i,items:[]}),null===(r=a.get(n))||void 0===r||r.items.push({shopName:d,cost:t,textKey:`${n}-${e.checkoutSessionToken}`})}else{var o;null===(o=a.get(rr))||void 0===o||o.items.push({shopName:d,cost:t,textKey:`${rr}-${e.checkoutSessionToken}`})}})):o.push({textKey:`failed-${s}`,remoteShopName:d})})),s(A,{spacing:"extraTight",children:[Array.from(a.entries()).map((([e,{method:n,items:t}])=>n?s(A,{spacing:"extraTight",children:[s(Wi,{cost:void 0,method:n}),s(A,{spacing:"extraTight",children:t.map((({cost:e,shopName:n,textKey:t})=>s(p,{children:[n,e&&s(d,{children:[ir,i.formatCurrency(e.amount,{currency:e.currencyCode,form:"explicit"})]})]},t)))})]},e):t.map((({shopName:e,textKey:n})=>s(p,{children:e},n))))),o.map((({textKey:e,remoteShopName:n})=>s(p,{children:[n,ir,i.translate("thank_you.payment_method_not_charged")]},e)))]})}function ar(e){const n=[Be(e)];var t;return"brand"in e&&e.brand&&n.push(e.brand),"creditCardLastFourDigits"in e&&e.creditCardLastFourDigits&&n.push(e.creditCardLastFourDigits),"displayLastDigits"in e&&n.push(e.displayLastDigits),"code"in e&&n.push(e.code.slice(-4)),"wallet"===e.type&&e.walletContent&&("lastDigits"in e.walletContent&&e.walletContent.lastDigits&&n.push(e.walletContent.lastDigits),"creditCardLastFourDigits"in e.walletContent&&null!==(t=e.walletContent)&&void 0!==t&&t.creditCardLastFourDigits&&n.push(e.walletContent.creditCardLastFourDigits)),n.join("-")}function lr(){var e,n;const{i18n:t,shop:{hasStorefront:i,loginLinkVisible:r},rememberMe:{status:o,response:a},url:l,mobileCheckoutSdk:d}=f(),{value:c}=I(),{value:u}=qe(),{value:h}=He(),{value:p}=O(),{loggedIn:m}=ze(),_=$e(),{purchasingCompany:y}=fe(),g=We(),v=null!=h?h:null==y?void 0:y.location.billingAddress,k=Bt(),w=gi(),S=t.translate("thank_you.customer_information_title"),C=je("draftOrder"),x=yi(),T=d.variant.isStandard(),{background:P,colorLayer:R}=Wt(),N=Ri(),M=Boolean(null==N?void 0:N.length),D=qt(),U=$(Fe),q=Ye(p),B=Ve(p),{currentDetour:H}=Ke(),z=Ei(),W=(k||w)&&!z;let j="Checkout::CustomerInformation::RenderAfter";"thankYou"===(null==H?void 0:H.type)&&(j="Checkout::ThankYou::CustomerInformation::RenderAfter");const F=Qe(j),{completedWithShopPay:Y,shouldShowShopLoginMessaging:V}=b((()=>{const e=Boolean(null==a?void 0:a.data),n=null==u?void 0:u.lines.some((({method:e,cost:n})=>(null==n?void 0:n.amount)&&"wallet"===e.type&&["SHOP_PAY","SHOPIFY_INSTALLMENTS"].includes(e.name)));return{completedWithShopPay:(U?null==D?void 0:D.shopPayOrder:Boolean(n))||e,shouldShowShopLoginMessaging:e||"loading"===o}}),[u,null==a?void 0:a.data,o,null==D?void 0:D.shopPayOrder,U]),K=[y?null==g?void 0:g.fullName:void 0,null!==(e=null==c?void 0:c.email)&&void 0!==e?e:null==c?void 0:c.phone].filter((e=>Boolean(e))),Q=!T&&!C&&i&&m,G=Boolean(r)&&(Q||y),X=!_&&(null==u||null===(n=u.lines)||void 0===n?void 0:n.length)||M,J=Boolean(p&&"filled"===p.status&&p.lines.some((({status:e})=>"not_required"!==e)));return s(L,{accessibilityLabel:S,background:x?"transparent":P,border:x?"none":"base",borderRadius:"base",colorLayer:x?void 0:R,children:[s(A,{padding:x?["base","none"]:"base",children:[s(ne,{columns:["auto","fill"],inlineAlignment:"end",children:[s(E,{children:S}),G?s(Z,{href:l.account(),children:t.translate("thank_you.view_business_customer_account")}):null]}),s(Ge,{columns:Xe.default("fill").when({viewportInlineSize:{min:"small"}},["1fr","1fr"]),rows:["auto"],spacing:x?"large100":"small200",children:[s(L,{children:s(A,{spacing:x?"large100":"base",children:[s(A,{spacing:"small200",children:[s(sr,{text:t.translate("thank_you.contact_information_title"),showSplitShippingGroups:x}),s(qi,{lines:K})]}),y?s(Ui,{}):null,q&&s(Bi,{}),B&&s(tr,{}),!B&&!q&&s(nr,{shippingRequired:J,showMethods:!x})]})}),X||v?s(L,{children:s(A,{spacing:x?"large100":"base",children:[X?s(A,{spacing:"small200",children:[s(sr,{text:t.translate("thank_you.payment_method_title"),showSplitShippingGroups:x}),!M&&null!=u&&u.lines.length?s(A,{spacing:"small200",children:u.lines.map((({method:e,cost:n})=>s(Wi,{cost:n,method:e},`${Be(e)}-${null==n?void 0:n.amount}`)))}):null,M?s(or,{}):null]}):null,v?s(A,{spacing:"small200",children:[s(sr,{text:t.translate("thank_you.billing_address_title"),showSplitShippingGroups:x}),s(ve,{address:v,multiline:!0})]}):null]})}):null]}),Y||V?s(Di,{message:null==a?void 0:a.data,loading:"loading"===o,completedWithShopPay:Y}):null,s(Je,{extensions:F})]}),W?s(wi,{}):null]})}function sr({text:e,showSplitShippingGroups:n}){return n?s(p,{color:"subdued",children:e}):s(E,{children:e})}const dr=()=>{const{i18n:e}=f();return s(A,{spacing:"none",padding:"base",children:s(E,{children:e.translate("thank_you.offers.title")})})},cr=(e,n=ri)=>{if("https://shop.app"!==e.origin)return;if(void 0===e.data)return;if("redirect"!==e.data.type)return;const t=e.data.redirect_to;if(void 0===t)return;const i=new URL(t);"https://shop.app"==`${i.protocol}//${i.hostname}`&&(void 0!==e.data.open_in_new_tab&&!0===e.data.open_in_new_tab&&"function"==typeof n.open?n.open(t,"_blank","noopener,noreferrer"):n.location.href=t)},ur=({shopId:e,personalizeAds:n,placement:t,checkoutToken:i,orderId:r,hideButtons:o,hideHeader:a,accentColor:l,darkMode:d})=>{const c=m(null);_((()=>{const e=setTimeout((()=>{var e;null!==(e=c.current)&&void 0!==e&&null!==(e=e.iframeRef)&&void 0!==e&&e.current&&(c.current.iframeRef.current.style.height="0px")}),2e3);return ri.addEventListener("message",cr),ri.addEventListener("message",(n=>{"https://shop.app"===n.origin&&clearTimeout(e)})),()=>{ri.removeEventListener("message",cr),clearTimeout(e)}}),[]);const{authorizeUrl:u}=oi({avoidPayAltDomain:!0,avoidSdkSession:!0,analyticsContext:"shopCashOffers",proxy:!0,locale:void 0,flow:"shop_cash_offers",redirectType:"iframe",responseType:"code",clientId:"",shopId:e,personalizeAds:n,placement:t,checkoutToken:i,orderId:r,hideButtons:o,hideHeader:a,accentColor:l,darkMode:d});return s(ai,{proxy:!0,insideModal:!1,ref:c,src:u,scrolling:"no",variant:"default"})};function hr(e){return void 0!==e&&e.getYiqPerceivedBrightness()>=.65}const pr=new URL("https://shop.app"),mr=String(!0),_r="thank_you",yr="100%",gr=tn((({shopId:e,personalizeAds:i,preview:r,orderId:o,checkoutSessionIdentifier:l,setHeight:d},c)=>{const u=String(i),h=function(){var e,n;const{colors:{global:t,schemes:i={}},control:{background:r="base"}}=Ze(),{canvas:o}=en(),l="transparent"===r,s=i[null!==(e=o.colorScheme)&&void 0!==e?e:"scheme1"],d=l?null==s||null===(n=s.base)||void 0===n?void 0:n.background:new nn(0,0,100),c=null==t?void 0:t.accent,u=hr(d)!==hr(c)&&void 0!==c;return a(a({},hr(d)?null:{dark_mode:"true"}),u?{accent_color:c.toRgb()}:null)}(),{telemetryClient:p,url:y}=f(),g=m(null),b=m(null),v=()=>{var e;const n=null===(e=g.current)||void 0===e||null===(e=e.shadowRoot)||void 0===e?void 0:e.querySelector("iframe");return null!=n?n:b.current},k=Boolean(o)||r;if(_((()=>{customElements.get("shop-cash-offers")||Gt((e=>{let{element:i}=e,r=t(e,n);return s(Xt,{element:i,featureName:"ShopCashOffers",children:s(ur,a({},r))})}),{name:"shop-cash-offers",props:{shopId:"number",personalizeAds:"boolean",placement:"string",orderId:"number",checkoutToken:"string",hideButtons:"boolean",hideHeader:"boolean",accentColor:"string",darkMode:"boolean"},shadow:"open"});const e={type:k?"iframe":"shop-js-iframe"};p.counter({name:"shop_ads_2p_rail_render_started",value:1,attributes:e}),p.log("shop_ads_2p_rail_render_started","shop_ads_2p_rail_render_started",a({},e))}),[k,p]),_((()=>{const e=e=>{var n,t;if(e.origin!==pr.origin)return;const i=null==e||null===(n=e.data)||void 0===n?void 0:n.type,r=null==e||null===(t=e.data)||void 0===t?void 0:t.redirect_to;if("resize_iframe"===i){var o,l;let n=null==e||null===(o=e.data)||void 0===o?void 0:o.height;const t=null==e||null===(l=e.data)||void 0===l?void 0:l.width;if("number"==typeof n&&"number"==typeof t){n=n>0?n:0,d(n);const e={type:n>0?"with_content":"without_content"};p.counter({name:"shop_ads_2p_rail_resize",value:1,attributes:e}),p.log("shop_ads_2p_rail_resize","shop_ads_2p_rail_resize",a({height:n,width:t},e));const i=v();i&&(i.style.height=`${n}px`,i.style.width=yr)}}else if(k&&"redirect"===i&&void 0!==r){const n=new URL(r);n.origin!==pr.origin&&n.origin!==new URL(y.storefront()).origin||(void 0!==e.data.open_in_new_tab&&!0===e.data.open_in_new_tab?window.open(r,"_blank","noopener,noreferrer"):window.location.assign(r))}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[k,d,p,y]),rn(c,(()=>({iframeElement:v})),[]),k){const n=(w=a(a(a(a({shop_id:String(e),placement:_r,hide_header:mr,personalize_ads:u,merchant_url:y.storefront()},r?{preview:String(r)}:null),o?{order_id:String(o)}:null),l?{checkout_token:l}:null),h),`${new URL("https://shop.app/offers-compact").toString()}?${new URLSearchParams(w).toString()}`.toString());return s("iframe",a({ref:b,id:"offers",src:n,width:yr,height:"211px",scrolling:"no"},void 0))}return s("shop-cash-offers",{"shop-id":e,"personalize-ads":u,"hide-header":mr,"dark-mode":h.dark_mode,"accent-color":h.accent_color,placement:_r,"order-id":o,"checkout-token":l,ref:g});var w}));function fr({preview:e}){const{shop:{id:n},source:{checkoutSessionIdentifier:t}}=f(),i=parseInt(V(n),10),{background:r,colorLayer:o}=Wt(),a=on()&&an(),[l,d]=k(),c=pe(),u=null!=c&&c.orderIdentity.id?ln(c.orderIdentity.id):void 0,h=m(null);return s(L,{background:r,border:"base",borderRadius:"base",colorLayer:o,display:0===l?"none":"block",children:[s(dr,{}),s(gr,{checkoutSessionIdentifier:t,orderId:u,personalizeAds:a,shopId:i,ref:h,setHeight:d,preview:e})]})}function br(e){return e.some((e=>"_shopify_buyer_membership_key"===e.key&&"buy_with_prime"===e.value))}function vr(){const{shop:{emailMarketing:e}}=f(),{value:n}=I(),t=pe(),{value:i}=F("acceptEmailMarketing"),r=void 0!==(null==n?void 0:n.email),{purchasingCompany:o}=fe();return!o&&r&&"OFF"!==e&&!i&&(null==t?void 0:t.eligibleForMarketingOptIn)}const kr=(e,n)=>{try{const t=new URL(e.replace(/\/$/,""));return Object.entries(n).forEach((([e,n])=>{t.searchParams.append(e,n)})),t.toString()}catch(t){return e}},wr=164,Sr=372,Cr=52,xr=32,Ir=e=>s("svg",a(a({xmlns:"http://www.w3.org/2000/svg",width:32,height:32,viewBox:"0 0 318 350"},e),{},{children:s("path",{d:"M9.267 33.017C37.148 13.574 77.319 0 120.113 0c114.074 0 197.039 77.132 197.039 182.787 0 98.501-71.299 167.213-170.479 167.213C61.764 350 .848 292.972.848 216.482c0-51.855 31.182-90.1 75.205-104.994l35.641 60.274c-23.975 11.006-33.018 27.221-33.018 47.307 0 33.017 27.881 56.404 68.052 56.404 49.269 0 88.156-38.905 88.156-91.402 0-61.577-48.608-108.223-114.716-108.223a132.56 132.56 0 0 0-73.243 21.388z"})})),Tr={Container:"gTxFI",overlay:"kfcrU"},Pr="white";function Ar({color:e="branded",containerSize:n=Cr,iconSize:t=xr,backgroundColor:i=Pr,overlay:r=!1}){const o="branded"===e?sn.toRgb():e;return s("div",{className:dn(Tr.Container,r?Tr.overlay:""),style:{backgroundColor:i,height:n,width:n,borderRadius:"10px"},children:s(Ir,{"aria-hidden":"true",style:{fill:o},height:t,width:t})})}function Er({link:e,label:n,message:t,onQrCodeInteraction:i}){const{i18n:r}=f(),o=T((()=>{null==i||i()}),[i]);return s(oe,{children:s(cn,{impressionType:"download_shop_button",impressionFeatures:["desktop","qr_code"],children:s(c,{onClick:o,overlay:s(un,{connector:"arrow",padding:"none",positionArea:"inline-end span-block-end",children:s(oe,{maxInlineSize:Sr,children:s(oe,{padding:"base",maxInlineSize:Sr,children:s(Ge,{columns:["auto","auto","auto"],spacing:"base",children:[s(oe,{padding:"none",children:[s(hn,a({src:e,height:wr,width:wr,title:r.translate("thank_you.qr_code.iframe_title")},void 0)),s(Ar,{overlay:!0})]}),s(oe,{blockAlignment:"center",padding:["none","none","none","small200"],children:s(A,{children:[s(E,{level:3,children:null==t?void 0:t.title}),s(P,{children:s(ee,{children:null==t?void 0:t.subtitle})})]})})]})})})}),children:n})})})}const Lr="order_status_page";class Or extends Error{constructor(...e){super(...e),l(this,"name","ShopMobileClipboardInteractionError")}}function Rr({label:e,link:n,onClipboardInteraction:t}){var i;const o=qt(),a=K(),{telemetryClient:l,mobileCheckoutSdk:d}=f(),u=d.variant.isStandard();if(!o)return null;const h=null==o?void 0:o.mobileUrlAttributionPayload,p=null===(i=a.value.defaultAttributes)||void 0===i?void 0:i.visitToken,m=function(){var e=r((function*(){try{const n=(e=h,(i=p)?`${e},${i},${Lr}`:`${e},,${Lr}`);yield pn(n)}catch(r){r instanceof Error&&l.error(new Or(r.message,{cause:r}))}finally{null==t||t();const e=function(e,n){const t=new URL(e);return n&&t.searchParams.set("sid",n),u&&t.searchParams.set("open_externally","true"),t.toString()}(n,p);window.location.href=e}var e,i}));return function(){return e.apply(this,arguments)}}();return s(oe,{children:s(cn,{impressionType:"download_shop_button",impressionFeatures:["mobile"],children:s(c,{onClick:m,children:e})})})}function Nr({label:e,message:n,mobileLinkToShop:t,desktopLinkToShop:i,onClipboardInteraction:r,onQrCodeInteraction:o}){return mn()?s(Rr,{label:e,link:t,onClipboardInteraction:r}):s(Er,{label:e,link:i,message:n,onQrCodeInteraction:o})}const Mr={ShopOrderUpdates:"mnuHb",ShopLogoWrapper:"ggkpn",ShopLogo:"jNjME"},Dr="delivery_order";function Ur(){const{i18n:e}=f(),n=qt(),{track:t}=vi("order_updates"),i=Vt();if(_((()=>{n&&t("shop_button_rendered")}),[n,t]),!n)return null;const{canTrackOrderUpdates:r,mobileUrl:o,qrCodeUrl:a}=n,l={shop:s("span",{className:Mr.ShopLogoWrapper,children:s(_n,{className:Mr.ShopLogo,"aria-label":"Shop"})})};let d;d=r?e.translate("shop_pay.order_updates_track_order_logo",l):e.translate("shop_pay.download_to_track_with_shop_logo",l);const c={title:e.translate("thank_you.shop_qr_with_sms_upsell.qr_code.title"),subtitle:e.translate("thank_you.shop_qr_with_sms_upsell.qr_code.subtitle_message")},u=kr(o,{utm_content:Dr}),h=kr(a,{link_provider:"open.shop.app",utm_content:Dr});return s("div",{className:dn(Mr.ShopOrderUpdates,i),children:s(Nr,{label:d,message:c,mobileLinkToShop:u,desktopLinkToShop:h,onClipboardInteraction:()=>{t("arrive")},onQrCodeInteraction:()=>{t("arrive_show_qr_code")}})})}const qr={id:"766f1a73f6f5729d8de999514e11f6d1a0015979328b3a23a3ffe084b071b5ed",type:"mutation",name:"EmailMarketingOptIn",source:"mutation EmailMarketingOptIn($orderId:ID!,$sessionInput:SessionTokenInput!){subscribeToMarketing(orderId:$orderId,sessionInput:$sessionInput){...on MarketingOptInFailure{code __typename}...on MarketingOptInSuccess{pending __typename}__typename}}"};function Br({optInState:e}){const{i18n:n}=f();let t,i;return"loading"===e?(t=s(yn,{size:"small"}),i=n.translate("marketing.accept_marketing_checkbox_label")):"opt_in_pending"===e?(t=s(h,{type:"email",size:"small"}),i=n.translate("marketing.pending_accept_marketing_checkbox_label")):(t=s(h,{type:"check",size:"small"}),i=n.translate("marketing.post_accept_marketing_checkbox_label")),s(u,{blockAlignment:"center",spacing:"base",children:[t,i]})}function Hr({colorLayer:e}){var n,t;const{track:i}=fi(),{i18n:o,telemetryClient:a}=f(),[l,d]=k("not_opted_in"),c=K(),u=We(),h=gn(),p=pe(),m=ue("session-token"),y=je("simulated");function g(){return(g=r((function*(e){if(y)return void d("opted_in");if(!e)return;d("loading");const{data:n,error:t}=yield h.mutate(qr,{variables:{orderId:p.orderIdentity.id,sessionInput:{sessionToken:m}}});if(t)return d("not_opted_in"),void(t instanceof fn||a.error(t));const i=null==n?void 0:n.subscribeToMarketing.__typename;"MarketingOptInFailure"===i&&"ALREADY_SUBSCRIBED"!==(null==n?void 0:n.subscribeToMarketing.code)?d("not_opted_in"):"MarketingOptInFailure"===i&&"ALREADY_SUBSCRIBED"===(null==n?void 0:n.subscribeToMarketing.code)?d("opted_in"):"MarketingOptInSuccess"===i&&d(null!=n&&n.subscribeToMarketing.pending?"opt_in_pending":"opted_in")}))).apply(this,arguments)}return _((()=>{var e,n;i("thank_you_page_email_consent_page_view/4.0",{page:"thank_you",customerId:null!=u&&u.id?Number(V(u.id)):void 0,orderId:ln(null==p?void 0:p.orderIdentity.id),sessionToken:null==c||null===(e=c.value)||void 0===e||null===(e=e.defaultAttributes)||void 0===e?void 0:e.visitToken,uniqueToken:null==c||null===(n=c.value)||void 0===n||null===(n=n.defaultAttributes)||void 0===n?void 0:n.uniqToken})}),[null==u?void 0:u.id,p,i,null==c||null===(n=c.value)||void 0===n||null===(n=n.defaultAttributes)||void 0===n?void 0:n.uniqToken,null==c||null===(t=c.value)||void 0===t||null===(t=t.defaultAttributes)||void 0===t?void 0:t.visitToken]),s(oe,{border:["base","none","none","none"],background:"subdued",padding:"base",colorLayer:e,children:"not_opted_in"===l?s(ie,{id:"marketing_opt_in",name:"marketing_opt_in",onChange:function(e){return g.apply(this,arguments)},children:o.translate("marketing.accept_marketing_checkbox_label")}):s(Br,{optInState:l})})}function zr(){const{value:e}=I();return{confirmWithEmail:null!=(null==e?void 0:e.email)&&(null==e?void 0:e.email.length)>0,confirmWithPhone:null!=(null==e?void 0:e.phone)&&(null==e?void 0:e.phone.length)>0}}const $r=({isPickup:e}={isPickup:!1})=>{const{i18n:n}=f(),{confirmWithEmail:t,confirmWithPhone:i}=zr(),r=function(){var e;const n=pe(),t=null==n||null===(e=n.paymentDetails)||void 0===e?void 0:e.financialPendingReason;return{financialPendingReason:t,isBuyerActionRequired:"BUYER_ACTION_REQUIRED"===t,isProviderActionRequired:["NETWORK_ACTION_REQUIRED","PARTNER_ACTION_REQUIRED","SLOW_COMPLETION_CONFIRMATION","SLOW_COMPLETION_PAYMENT"].includes(null!=t?t:"")}}(),o=n.translate("thank_you.thank_you_title_payments_app_pending_buyer_action_required"),a=n.translate("thank_you.thank_you_title_payments_app_pending_default");return{pendingOrderConfirmationTitle:(l=r,l.isBuyerActionRequired?o:a),pendingOrderConfirmationMessage:function({confirmWithEmail:e,confirmWithPhone:t,isPickup:i,financialPendingReason:r}){return r.isBuyerActionRequired?function({confirmWithEmail:e,confirmWithPhone:t,isPickup:i}){return i?function({confirmWithEmail:e,confirmWithPhone:t}){return e&&t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_email_and_phone_pick_up"):e?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_email_pick_up"):t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_phone_pick_up"):n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_missing_pick_up")}({confirmWithEmail:e,confirmWithPhone:t}):e&&t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_email_and_phone"):e?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_email"):t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_phone"):n.translate("thank_you.thank_you_payments_app_pending_payment_description_buyer_action_required_with_missing")}({confirmWithEmail:e,confirmWithPhone:t,isPickup:i}):r.isProviderActionRequired?n.translate("thank_you.thank_you_payments_app_pending_payment_description_provider_action_required_default"):function({confirmWithEmail:e,confirmWithPhone:t,isPickup:i}){return i?function({confirmWithEmail:e,confirmWithPhone:t}){return e&&t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_email_and_phone_pick_up"):e?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_email_pick_up"):t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_phone_pick_up"):n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_missing_pick_up")}({confirmWithEmail:e,confirmWithPhone:t}):e&&t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_email_and_phone"):e?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_email"):t?n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_phone"):n.translate("thank_you.thank_you_payments_app_pending_payment_description_default_with_missing")}({confirmWithEmail:e,confirmWithPhone:t,isPickup:i})}({confirmWithEmail:t,confirmWithPhone:i,isPickup:e,financialPendingReason:r}),isOrderPendingStatus:Boolean(r.financialPendingReason)};var l};function Wr({children:e}){return"string"!=typeof e?null:s(d,{children:e.split("\n").filter(Boolean).map((e=>s(P,{children:e},e)))})}const jr=({deliveryInformation:e,paymentInstructions:n})=>{const{i18n:t}=f(),{confirmWithEmail:i,confirmWithPhone:r}=zr(),{isOrderPendingStatus:o,pendingOrderConfirmationMessage:a}=$r(),l=bn(),c=n&&n.length>0;return s(A,{spacing:"small300",children:[c?null:s(p,{children:(o?a:i&&r?l?t.translate("thank_you.thank_you_confirmed_with_email_and_phone_description.multi_store"):t.translate("thank_you.thank_you_confirmed_with_email_and_phone_description.single_store"):i?l?t.translate("thank_you.thank_you_confirmed_with_email_description.multi_store"):t.translate("thank_you.thank_you_confirmed_with_email_description.single_store"):r?l?t.translate("thank_you.thank_you_confirmed_with_phone_description.multi_store"):t.translate("thank_you.thank_you_confirmed_with_phone_description.single_store"):void 0)||t.translate("thank_you.thank_you_confirmed_order_with_missing")}),e?s(p,{children:e?s(d,{children:[s(p,{type:"strong",children:t.translate("thank_you.delivery_information_label")})," ",s(ee,{children:e})]}):null}):null,c?s(p,{children:s(A,{children:n.map((e=>s(Wr,{children:e},e)))})}):null]})};function Fr({shippingAddress:e,deliveryInformation:n,paymentInstructions:t,isBuyWithPrime:i}){var r;const{i18n:o}=f(),{track:l}=vi("map"),d=vn(),{background:c,colorLayer:u}=Wt(),h=yi(),{pendingOrderConfirmationTitle:p,isOrderPendingStatus:m}=$r(),_=vr(),y=bn(),g=m?p:y?o.translate("thank_you.confirmed_orders_title"):o.translate("thank_you.thank_you_title"),v=kn(e,{countryFormat:"explicit",hiddenFields:["address1","address2","company","firstName","lastName","phone","postalCode","countryCode"]}),k=$(wn),w=$(Sn),S=null==e||null===(r=e.coordinates)||void 0===r?void 0:r.accuracy,C=k?w||"PRECISE"!==S:w,x=b((()=>C?null:null!=e&&e.coordinates&&v?{label:v,position:{lat:e.coordinates.latitude,lng:e.coordinates.longitude}}:null),[e,v,C]),I=b((()=>x?[a({type:"destination",title:o.translate("thank_you.marker.shipping"),headerDisabled:!0},x)]:[]),[x,o]),T=x?s(xn,{options:{mapOptions:{center:x.position,styles:d?Cn:[]}},markers:I,handleClick:()=>l("click"),handleDoubleClick:()=>l("dblclick"),handleDragEnd:()=>l("dragend"),handleZoomChanged:()=>l("zoom_changed"),title:`${o.translate("thank_you.shipping_address_map_title",{address:x.label})}`}):null,P=null===x?"none":"base";return s(L,{accessibilityLabel:g,border:"base",borderRadius:"base",overflow:"hidden",background:c,colorLayer:u,children:[T,s(A,{border:[P,"none","none","none"],padding:"base",children:[s(E,{children:g}),s(jr,{deliveryInformation:n,paymentInstructions:t}),Ht()&&!y&&s(Ur,{})]}),i&&!h&&s(A,{border:[P,"none","none","none"],padding:"base",children:s(jt,{})}),_&&s(Hr,{colorLayer:u})]})}function Yr({paymentInstructions:e}){var n;const{i18n:t}=f(),i=In(),{confirmWithEmail:r,confirmWithPhone:o}=zr(),{isOrderPendingStatus:a,pendingOrderConfirmationTitle:l,pendingOrderConfirmationMessage:d}=$r({isPickup:!0}),c=vn(),u=kn(null==i?void 0:i.address,{hiddenFields:["address1","address2","company","firstName","lastName","phone","postalCode","countryCode"]}),h=a?l:t.translate("thank_you.thank_you_title"),{background:p,colorLayer:m}=Wt();return s(L,{accessibilityLabel:h,background:p,border:"base",borderRadius:"base",colorLayer:m,children:[null!=i&&null!==(n=i.address)&&void 0!==n&&n.coordinates?s(oe,{border:["none","none","base","none"],children:s(xn,{options:{mapOptions:{styles:c?Cn:[]}},markers:function(){var e;const n=null==i||null===(e=i.address)||void 0===e?void 0:e.coordinates;return n?[{type:"destination",title:t.translate("thank_you.pick_up_in_store_marker.shipping"),position:{lat:n.latitude,lng:n.longitude},label:null!=i&&i.name?i.name:u,headerDisabled:!0}]:[]}(),title:`${t.translate("thank_you.shipping_address_map_title",{address:u})}`})}):null,s(A,{padding:"large200",children:[s(E,{children:h}),s(P,{children:a?d:r&&o?t.translate("thank_you.thank_you_confirmed_order_with_email_and_phone_pick_up"):r?t.translate("thank_you.thank_you_confirmed_order_with_email_pick_up"):o?t.translate("thank_you.thank_you_confirmed_order_with_phone_pick_up"):t.translate("thank_you.thank_you_confirmed_order_with_missing")}),e&&e.length>0&&s(A,{children:[s(ye,{direction:"inline"}),e.map((e=>s(Wr,{children:e},e)))]})]}),vr()&&s(Hr,{colorLayer:m})]})}const Vr=Tn(null);var Kr={ProgressTracker:"_1ojciyd1 _1ojciyd0 _1fragemh3 _1fragemiw _1fragemfa _1fragemkp _1fragemtb _1fragemqa"};function Qr({activeStep:e,children:n}){const t=Pn.toArray(n).map((e=>{if(An(e))return e.props.id})),i=b((()=>({steps:t.reduce(((n,i,r)=>(n[i]={active:e?e===i:0===r,completed:t.indexOf(e)>t.indexOf(i)},n)),{})})),[e,t]);return s(Vr.Provider,{value:i,children:s("ol",{className:Kr.ProgressTracker,role:"list",children:n})})}var Gr={Step:"_4xihkw1 _4xihkw0 _1fragem3c",Icon:"_4xihkw4",Label:"_4xihkw5",Connector:"_4xihkw6",completed:"_4xihkw2",active:"_4xihkw3"};function Xr({children:e,description:n,icon:t,iconTone:i,id:r,label:o,state:a,stateHidden:l=!0}){const{steps:c}=function(){const e=En(Vr);if(null===e)throw new Ln("<Step />  must be used inside of an <ProgressTracker />");return e}(),u=0===Object.keys(c).indexOf(r),{[r]:{active:h,completed:p}}=c,m=dn(Gr.Step,p&&Gr.completed);return s(d,{children:[!u&&s(eo,{active:h,completed:p}),s("li",{className:m,"aria-current":h,children:[s(Jr,{active:h,completed:p,type:t,tone:i}),s(Zr,{active:h,completed:p,description:n,label:o,state:a,stateHidden:l}),e]})]})}function Jr({active:e,tone:n="accent",type:t,completed:i}){const r=dn(Gr.Icon,e&&Gr.active,i&&Gr.completed);return s("div",{className:r,children:s(h,{type:t,tone:e||i?n:void 0})})}function Zr({active:e,completed:n,description:t,label:i,state:r,stateHidden:o}){const a=dn(Gr.Label,(e||n)&&Gr.completed);return s(d,{children:[s("div",{className:a,children:[o?s(p,{accessibilityVisibility:"exclusive",children:r}):s(P,{children:r}),s(P,{children:s(p,{type:e||n?"strong":"generic",children:i})})]}),(e||n)&&t&&s(P,{type:"small",color:"subdued",children:t})]})}function eo({active:e,completed:n}){const t=dn(Gr.Connector,(e||n)&&Gr.completed);return s("li",{className:t,"aria-hidden":!0})}function no({activeStep:e="inReview"}){const{i18n:n}=f(),t=n.formatDate(new Date,{month:"long",day:"2-digit"}),{background:i,colorLayer:r}=Wt(),o=[{id:"submitted",date:t,label:n.translate("thank_you.breadcrumbs_submitted"),state:n.translate("thank_you.breadcrumbs_submitted"),icon:"arrow-right"},{id:"inReview",date:t,label:n.translate("thank_you.breadcrumbs_in_review"),state:n.translate("thank_you.breadcrumbs_in_review"),icon:"note"},{id:"confirmed",label:n.translate("thank_you.breadcrumbs_confirmed"),state:n.translate("thank_you.breadcrumbs_confirmed"),icon:"check"}];return s(L,{background:i,border:"base",borderRadius:"base",colorLayer:r,children:[s(A,{padding:"base",children:s(Qr,{activeStep:e,children:o.map((e=>s(Xr,{description:e.date,icon:e.icon,id:e.id,label:e.label,state:e.state},e.id)))})}),s(ye,{}),s(A,{padding:"base",children:[s(E,{children:n.translate("thank_you.thank_you_title_review")}),s(P,{children:n.translate("thank_you.thank_you_confirmed_order_with_draft")})]})]})}function to(){var e;const{value:n}=qe(),{value:t}=Q(),{value:i}=On("ONE_TIME_PURCHASE"),{value:r}=Rn(),o=Nn(i),a=Mn();if(null===(e=Ri())||void 0===e?void 0:e.some((e=>"failed"===e.status)))return null;if(a)return s(no,{});const l=null==n?void 0:n.lines.map((({method:e,specialInstructions:n})=>"paymentOnDelivery"===e.type||"customManualPayment"===e.type||"manualPayment"===e.type?null!=n?n:e.paymentInstructions:null)).filter(Boolean),d="LOCAL"===(null==o?void 0:o.methodType)?o.description:void 0;return"PICK_UP"===(null==o?void 0:o.methodType)?s(Yr,{paymentInstructions:l}):s(Fr,{shippingAddress:t,paymentInstructions:l,deliveryInformation:d,isBuyWithPrime:br(null!=r?r:[])})}const io=(...e)=>{const n=e.find((e=>(null==e?void 0:e.firstName)&&(null==e?void 0:e.lastName)))||e.find((e=>null==e?void 0:e.lastName));return n?{firstName:n.firstName,lastName:n.lastName}:{}},ro=" • ";function oo(){const{i18n:e}=f(),n=pe(),{purchasingCompany:t}=fe(),i=We(),r=Mn(),{value:o}=Q(),{value:a}=He(),l=Ri();if(null==l?void 0:l.some((e=>"failed"===e.status)))return null;const{firstName:d,lastName:c}=t&&i?{firstName:null!==(u=i.firstName)&&void 0!==u?u:void 0,lastName:null!==(h=i.lastName)&&void 0!==h?h:void 0}:io(a,o);var u,h;const p=e.formatName(d,c),m=p?e.translate("thank_you.page_title",{display_name:p}):e.translate("thank_you.page_title_no_name"),_=(null==n?void 0:n.orderIdentity.buyerIdentifier)||null,y=null==n?void 0:n.purchaseOrderNumber,g=Boolean(null==l?void 0:l.length),b=r||!_||g?null:e.translate("order_summary.confirmation_number_label",{confirmation_number:`${_}`}),v=Boolean(b)||Boolean(y);return s(si,{status:"success",children:[v?s(P,{color:"subdued",children:[b||null,b&&y?ro:null,y?e.translate("thank_you.purchase_order_number_title",{purchase_order_number:y}):null]}):null,s(E,{level:1,autoFocus:!0,children:m})]})}function ao(){const{i18n:e}=f(),{value:n}=I(),t=Dn(),{background:i,colorLayer:r}=Wt(),o=null!=n&&n.email?e.translate("thank_you.gift_card_email_title",{count:t}):e.translate("thank_you.gift_card_text_title",{count:t});return s(L,{accessibilityLabel:o,background:i,border:"base",borderRadius:"base",padding:"base",colorLayer:r,children:s(A,{children:[s(E,{children:o}),s(P,{children:s(ee,{children:null!=n&&n.email?e.translate("thank_you.gift_card_confirmation_by_email_typ",{count:t}):e.translate("thank_you.gift_card_confirmation_by_text_typ",{count:t})})})]})})}const lo="installments_order",so="open.shop.app";function co(){const{i18n:e}=f(),n=qt(),{track:t}=vi("shop_pay_installments_highlight_button");if(_((()=>{n&&t("shop_button_rendered")}),[n,t]),!n)return null;const{shopInstallmentsMobileUrl:i,qrCodeUrl:r}=n,o={title:e.translate("shop_pay.installments_highlight_qr_flow_modal.title"),subtitle:e.translate("shop_pay.installments_highlight_qr_flow_modal.subtitle")},a=kr(i,{utm_content:lo}),l=kr(r,{link_provider:so});return s(Nr,{label:e.translate("shop_pay.installments_highlight_shop_button_get_reminders"),message:o,desktopLinkToShop:l,mobileLinkToShop:a,onClipboardInteraction:()=>{t("arrive")},onQrCodeInteraction:()=>{t("arrive_show_qr_code")}})}function uo(){const{i18n:e}=f(),{background:n,colorLayer:t}=Wt(),i=e.translate("shop_pay.installments_highlight_headline");return s(L,{accessibilityLabel:i,border:"base",borderRadius:"base",background:n,colorLayer:t,children:s(A,{padding:"large200",children:[s(E,{children:i}),s(A,{children:[s(P,{children:s(ee,{children:e.translate("shop_pay.installments_highlight_copy")})}),s(co,{})]})]})})}function ho(){const{i18n:e}=f(),{background:n,colorLayer:t}=Wt(),i=e.translate("shipping.shipping_method_title"),{value:r}=O(),{showShipmentBreakdown:o}=Un(),a=D(),l=M();if("filled"!==(null==r?void 0:r.status))return null;const d=qn(r.lines).filter(Bn),c=Re(d),u=c.filter((({type:e})=>"ONE_TIME_PURCHASE"===e)),h=c.filter((({type:e})=>"SUBSCRIPTION"===e)),p=h.length>0,m=e.translate("shipping.shipping_method_first_shipment_group_title",{count:u.length}),_=p&&!o&&!l;let y;return p||a?y=e.translate("shipping.split_shipping_multiple_shipment_notice"):u.length>1&&(y=e.translate("shipping.split_shipping_multiple_shipment_notice_one_time_purchase",{quantity:u.length})),s(L,{accessibilityLabel:i,children:s(A,{spacing:"base",padding:["small300","none","none","none"],children:[s(A,{spacing:"small400",children:[s(E,{level:2,children:i}),o?s(di,{}):s(po,{multipleShipmentsHeading:y})]}),s(A,{spacing:"large200",children:[s(A,{spacing:"small200",children:[_&&s(E,{level:3,children:m}),s(oe,{background:n,colorLayer:t,border:"base",cornerRadius:"base",padding:"none",children:s(Ft,{deliveryLines:c,selectedDeliveryMethodHandles:c.map((({methods:e})=>{var n;return null===(n=e[0])||void 0===n?void 0:n.handle})),choiceListContext:!1})})]}),s(Hn,{subscriptionLines:h})]})]})})}function po({multipleShipmentsHeading:e}){return e?s(u,{blockAlignment:"center",spacing:"small400",children:[s(h,{type:"truck"}),s(p,{color:"subdued",children:e})]}):null}function mo(){var e;const{value:n}=qe(),t=null===(e=pe())||void 0===e?void 0:e.paymentDetails,i=je("simulated"),{track:r}=vi("follow_link"),{i18n:o,shop:{contactEmail:a}}=f(),l=null==n?void 0:n.lines[0],d=null!=l&&l.cost?o.formatCurrency(l.cost.amount,{form:"short",currency:l.cost.currencyCode}):0,c=null==t?void 0:t.buyerActionInfo;return s(A,{children:s(A,{spacing:"small200",children:[s(E,{children:o.translate("payment.pending_payment.multibanco.buyer_action_info",{amount_due:d})}),s(u,{children:s(ee,{children:o.translate("payment.pending_payment.multibanco.instruction_html",{contact_us:s(Z,{href:i?void 0:`mailto:${a}`,onClick:i?void 0:()=>r("contact_us"),children:o.translate("thank_you.contact_us")})})})}),s(Ge,{columns:Xe.default("fill").when({viewportInlineSize:{min:"small"}},["1fr","1fr","1fr"]),rows:["auto"],spacing:"small200",children:[s(L,{children:s(A,{children:[s(A,{spacing:"small200",children:s(E,{children:o.translate("payment.pending_payment.multibanco.entity")})}),s(A,{spacing:"small200",children:s(p,{children:null==c?void 0:c.entity})})]})}),s(L,{children:s(A,{children:[s(A,{spacing:"small200",children:s(E,{children:o.translate("payment.pending_payment.multibanco.reference")})}),s(A,{spacing:"small200",children:s(p,{children:null==c?void 0:c.reference})})]})}),s(L,{children:s(A,{children:[s(A,{spacing:"small200",children:s(E,{children:o.translate("payment.pending_payment.multibanco.amount")})}),s(A,{spacing:"small200",children:s(p,{children:d})})]})})]})]})})}function _o(){const{i18n:e}=f(),{value:n}=qe(),t=e.translate("thank_you.customer_information_title"),{background:i,colorLayer:r}=Wt();return s(L,{accessibilityLabel:t,background:i,border:"base",borderRadius:"base",padding:"large-200",colorLayer:r,children:null!=n&&n.lines?zn(null==n?void 0:n.lines)?s(mo,{}):void 0:null})}const yo={id:"ebcee8be9e6c7c28fbd55d8183745df83661612f69510c509fb5bd01a8b778e2",type:"query",name:"PublisherSettings",source:"query PublisherSettings{shop{adsPublisherSettingsTypEnabled draftAdsPublisherSettingsTypEnabled __typename}}"},go=["CA","US"],fo=["en","de","fr","es"];function bo(){const{background:e,colorLayer:n}=Wt(),{i18n:t}=f(),i=qt(),{track:r}=vi("order_updates"),{value:o}=On("ONE_TIME_PURCHASE"),a=Nn(o),l="PICK_UP"===(null==a?void 0:a.methodType);if(!Ht()||!i||!l)return null;const{canTrackOrderUpdates:d,mobileUrl:c,qrCodeUrl:u}=i,h=d?t.translate("shop_pay.get_notified_with_shop"):t.translate("shop_pay.download_shop"),p={title:t.translate("thank_you.shop_qr_pick_up_orders.qr_code.title"),subtitle:t.translate("thank_you.shop_qr_pick_up_orders.qr_code.subtitle_message")},m=t.translate("thank_you.shop_qr_pick_up_orders.title"),_=d?t.translate("thank_you.shop_qr_pick_up_orders.description"):t.translate("thank_you.shop_qr_pick_up_orders.description_cant_track"),y=kr(c,{utm_content:"pickup_order"}),g=kr(u,{link_provider:"open.shop.app",utm_content:"pickup_order"});return s(L,{accessibilityLabel:m,border:"base",borderRadius:"base",overflow:"hidden",background:e,colorLayer:n,children:s(A,{border:["none","none","none","none"],padding:"base",children:[s(E,{children:m}),s(P,{children:_}),s(Nr,{label:h,message:p,mobileLinkToShop:y,desktopLinkToShop:g,onClipboardInteraction:()=>{r("arrive")},onQrCodeInteraction:()=>{r("arrive_show_qr_code")}})]})})}const vo={};let ko=null;const wo={"aria-label":"Shop",style:{fill:sn.toRgb(),width:44,height:17}},So=({loading:e,onSignInCompleted:n,fetchAttempts:t=1})=>{const{i18n:i}=f(),r=yi(),{background:o,colorLayer:l}=Wt(),{track:d}=vi("pay_escrow"),{value:u}=I();return _((()=>{d(e&&t>=1?"verify_button_blurred_rendered":"verify_button_rendered")}),[e,d,t]),s(L,{accessibilityLabel:"VerifyShopAccount",background:r?"transparent":o,border:r?"none":"base",borderRadius:"base",colorLayer:r?void 0:l,children:s(A,e?{padding:r?["base","none"]:"base",spacing:"base",children:[s(_e,{blockSize:22,inlineSize:120}),s(_e,{blockSize:16,inlineSize:"fill"}),s(_e,{blockSize:16,inlineSize:"fill"})]}:{padding:r?["base","none"]:"base",spacing:"large200",children:[s(ne,{columns:["auto","fill"],inlineAlignment:"end",blockAlignment:"center",children:[s(E,{level:2,children:i.translate("thank_you.verify_shop_account_title")}),s(_n,a({},wo))]}),s(P,{color:"subdued",children:i.translate("thank_you.verify_shop_account_message")}),s(c,{id:"verify-account-button",variant:"secondary",onClick:()=>{var e;d("verify_button_clicked"),((e,n)=>{const t=li(a(a({},e),{},{analyticsTraceId:(ko||(ko=Fn()),ko),uxMode:"windoid"}));var i,r;if(!t)return void(null===(i=(r=console).warn)||void 0===i||i.call(r,"Failed to build authorize URL due to incorrect parameters",e));let o=null;o=((e,n,t="SignInWithShop")=>{var i;const r=(()=>{const e=void 0===ri.screenLeft?ri.screenX:ri.screenLeft,n=void 0===ri.screenTop?ri.screenY:ri.screenTop;let t,i;t=ri.innerWidth?ri.innerWidth:ti.documentElement.clientWidth?ti.documentElement.clientWidth:screen.width,i=ri.innerHeight?ri.innerHeight:ti.documentElement.clientHeight?ti.documentElement.clientHeight:screen.height;const r=Math.max(1,t/ri.screen.availWidth);return{height:554/r,left:(t-365)/2/r+e,top:(i-554)/2/r+n,width:365/r}})();null===(i=vo[t])||void 0===i||i.call(vo);const o=ri.open(e,"SignInWithShop",`popup,width=${r.width},height=${r.height},top=${r.top},left=${r.left}`),a=()=>(e=>{null==e||e.close()})(o);n(new MessageEvent("message",{data:{type:"windoidopened"}}));const l=setInterval((()=>{null!=o&&o.closed&&(n(new MessageEvent("message",{data:{type:"windoidclosed"}})),clearInterval(l))}),200);return["beforeunload","unload","pagehide"].forEach((e=>{ri.addEventListener(e,a,{once:!0})})),ri.addEventListener("message",n),vo[t]=()=>{["beforeunload","unload","pagehide"].forEach((e=>{ri.removeEventListener(e,a)})),ri.removeEventListener("message",n),clearInterval(l)},o})(t,(e=>{var t,i,r;switch(e.data.type){case"completed":null===(t=n.onComplete)||void 0===t||t.call(n,e.data),null===(i=o)||void 0===i||i.close();break;case"windoidopened":null===(r=n.onWindoidOpen)||void 0===r||r.call(n)}}))})({loginHint:null!==(e=null==u?void 0:u.email)&&void 0!==e?e:"",codeChallenge:"test-code-challenge",codeChallengeMethod:"S256",flow:"thank_you_page_escrow",prompt:"login",proxy:!0,responseType:"code"},{onComplete:n})},children:i.translate("thank_you.verify_shop_account_cta")})]})})},Co={ThankYou:"_4Qmfj"};function xo(e){return null!=e&&e.length?e.reduce(((e,n)=>e+n.quantity),0):0}function Io(e){if(null!=e&&e.length)return e.reduce(((e,n)=>n.lineAmount?{amount:((null==e?void 0:e.amount)||0)+n.lineAmount.amount,currencyCode:n.lineAmount.currencyCode}:e),void 0)}function To(e){return e.map((({stableId:e,title:n,productTitle:t,image:i,quantity:r,price:o})=>({id:e,title:t,subtitle:n||void 0,image:i?{url:i.url,altText:i.altText||void 0}:void 0,quantity:r,totalPrice:o}))).filter((e=>null!==e))}function Po({thumbnailUrl:e,thumbnailAlt:n,primaryText:t,secondaryText:i,orderAmount:r,checkoutUrl:o,buttonText:a}){const l=tt({extraSmall:!1,base:!0}),{i18n:d}=f(),u=r?d.formatCurrency(r.amount,{currency:r.currencyCode,form:"short"}):void 0;return s(ne,{columns:["auto","fill","auto"],spacing:"base",children:[s(it,{alt:n,size:"small",src:e}),s(A,{children:[s(ne,{columns:["fill","auto"],spacing:"base",children:[s(A,{spacing:"none",children:[t,i&&s(p,{color:"subdued",children:i})]}),u?s(p,{type:"strong",children:u}):null]}),o&&a&&s(c,{variant:"secondary",size:"small",onClick:()=>window.open(o,"_blank"),inlineSize:l?"fill":void 0,children:s(ne,{columns:["1fr","auto"],spacing:"extraTight",blockAlignment:"center",children:[s(p,{children:a}),s(h,{type:"external",size:"small"})]})})]})]})}function Ao({giftCardPaymentLines:e}){var n;const{i18n:t}=f(),i=$(Ce),r=i?e.reduce(((e,n)=>{var t;return e+((null===(t=n.cost)||void 0===t?void 0:t.amount)||0)}),0):0;return i?s(at,{label:t.translate("order_summary.gift_card_label"),value:ot(t.formatCurrency(r,{currency:null===(n=e[0].cost)||void 0===n?void 0:n.currencyCode,form:"short"}))}):e.map((e=>s(rt,{line:e},e.method.code)))}function Eo({redeemablePaymentLines:e}){return e.map((e=>{let n="";var t;"CUSTOM"===e.method.redemptionSource&&(n=(null===(t=e.method.redemptionContent)||void 0===t||null===(t=t.redemptionAttributes[0])||void 0===t?void 0:t.value)||"");return s(lt,{line:e},e.method.redemptionSource+n)}))}const Lo="·";function Oo({itemsCount:e,subtotal:n,shippingTotal:t,deliveryMethodHandle:i,estimatedTaxes:r,checkoutTotal:o,discountLines:a,totalSavings:l,deliveryLines:c,giftCardPaymentLines:m,redeemablePaymentLines:_}){const{i18n:y}=f(),g=Boolean(c&&c.length>=q);return s(gt,{title:y.translate("order_summary.cost_table_title"),children:[n&&s(at,{children:[s(st,{children:s(u,{spacing:"extraTight",children:[s(p,{children:y.translate("order_summary.subtotal_label")}),e&&s(d,{children:[s(p,{children:Lo}),s(p,{children:y.translate("thank_you.thank_you_item_label",{count:e})})]})]})}),s(dt,{children:s(p,{children:y.formatCurrency(n.amount,{currency:n.currencyCode,form:"short"})})})]}),a&&a.length>0&&s(d,{children:[s(at,{children:s(st,{children:s(p,{children:y.translate("order_summary.discount_order_stacking",{count:a.length})})})}),a.map(((e,n)=>ct(e)&&e.amount?s(ut,{spacing:"small400",children:s(at,{children:[s(st,{children:s(u,{spacing:"extraTight",blockAlignment:"center",children:[s(h,{type:"discount",size:"small"}),s(p,{color:"subdued",children:e.title.toUpperCase()})]})}),s(dt,{children:s(p,{children:ot(y.formatCurrency(e.amount.amount,{currency:e.amount.currencyCode,form:"short"}))})})]})},`${n}-${e.title}`):null))]}),t&&s(at,{children:[s(st,{children:s(u,{spacing:"extraTight",children:[s(p,{children:y.translate("order_summary.shipping_label")}),i&&!g&&s(d,{children:[s(p,{children:Lo}),s(p,{children:i})]})]})}),s(dt,{children:s(p,{letterCase:0===t.amount?"uppercase":void 0,children:0===t.amount?y.translate("order_summary.free_shipping_total_label"):y.formatCurrency(t.amount,{currency:t.currencyCode,form:"short"})})})]}),r&&s(at,{children:[s(st,{children:s(u,{blockAlignment:"center",spacing:"small300",children:[s(p,{children:y.translate("order_summary.estimated_taxes_label")}),s(ht,{overlay:s(pt,{children:y.translate("order_summary.estimated_taxes_finalization_tooltip_content")}),accessibilityLabel:y.translate("tooltip.accessibility_label_context",{context:y.translate("order_summary.estimated_taxes_label")}),children:s(h,{type:"question-circle",size:"small"})})]})}),s(dt,{children:s(p,{children:y.formatCurrency(r.amount,{currency:r.currencyCode,form:"short"})})})]}),_&&_.length>0&&s(Eo,{redeemablePaymentLines:_}),m&&m.length>0&&s(Ao,{giftCardPaymentLines:m}),o&&s(at,{children:[s(st,{children:s(E,{level:1,children:y.translate("order_summary.total_label")})}),s(dt,{children:s(E,{level:1,children:y.formatCurrency(o.amount,{currency:o.currencyCode,form:"short"})})})]}),l&&l.amount>0&&s(ut,{spacing:"small300",children:s(mt,{children:[s(_t,{children:s(u,{blockAlignment:"center",spacing:"small300",children:[s(h,{type:"savings",size:"base",color:"strong"}),s(p,{type:"strong",children:y.translate("order_summary.total_savings").toUpperCase()}),s(p,{type:"strong",children:y.formatCurrency(l.amount,{currency:l.currencyCode,form:"short"})})]})}),s(yt,{})]})})]})}function Ro({image:e,quantity:n,title:t,subtitle:i,totalPrice:r}){const{i18n:o}=f();return s(ne,{columns:["auto","fill","auto"],spacing:"base",children:[s(oe,{children:s(it,{alt:null==e?void 0:e.altText,size:"base",src:null==e?void 0:e.url,totalItems:n})}),s(oe,{blockAlignment:"center",children:s(A,{spacing:"none",children:[s(p,{children:t}),i&&s(p,{color:"subdued",children:i})]})}),r?s(oe,{blockAlignment:"center",children:s(p,{children:o.formatCurrency(r.amount,{currency:r.currencyCode,form:"short"})})}):null]})}const No="·";function Mo({deliveryLines:e,merchandiseItems:n}){const{i18n:t}=f(),i=Boolean(e&&e.length>=q);if(!(i||n&&n.length))return null;if(i){const i=[];return null==e||e.forEach((e=>{if(!Bn(e))return;const n=e.methods.find((n=>n.handle===e.selectedDeliveryMethodHandle));n&&i.push({line:e,selectedMethod:n})})),i.length?s(A,{spacing:"loose",children:i.map((({line:e,selectedMethod:i},r)=>{var o,a;return s(A,{children:[s(A,{spacing:"none",children:[s(u,{spacing:"extraTight",children:[s(p,{type:"strong",children:t.translate("shipping.split_shipping_shipment_number",{number:r+1})}),s(p,{children:No}),s(p,{children:i.title})]}),s(p,{color:"subdued",children:null===(o=i.deliveryPromisePresentmentTitle)||void 0===o?void 0:o.long})]}),null===(a=e.targetMerchandiseLines)||void 0===a?void 0:a.map((e=>{const t=null==n?void 0:n.find((n=>n.id===e.stableId));return t?s(Ro,{image:t.image,quantity:t.quantity,title:t.title,subtitle:t.subtitle,totalPrice:t.totalPrice},e.id):null}))]},e.id||r)}))}):null}return s(A,{spacing:"base",children:null==n?void 0:n.map((e=>s(Ro,{image:e.image,quantity:e.quantity,title:e.title,subtitle:e.subtitle,totalPrice:e.totalPrice},e.id)))})}function Do({shopId:e,shopName:n,orderConfirmationNumber:t,trackingUrl:i,merchandiseItems:r,subtotal:o,estimatedTaxes:a,shippingTotal:l,checkoutTotal:d,itemsCount:m,deliveryMethodHandle:_,discountLines:y,totalSavings:g,deliveryLines:b,open:v,onClose:k,onAfterHide:w,giftCardPaymentLines:S,redeemablePaymentLines:C}){const{i18n:x}=f();return s(ft,{id:e?`order-modal-${e}`:"order-modal",open:v,onHide:k,onAfterHide:w,heading:n?x.translate("thank_you.thank_you_from_shop",{shop_name:n}):x.translate("thank_you.thank_you_from_other_store"),size:"base",children:s(A,{spacing:"base",children:[s(L,{children:s(Mo,{deliveryLines:b,merchandiseItems:r})}),s(ye,{}),s(L,{children:s(Oo,{itemsCount:m,subtotal:o,shippingTotal:l,deliveryMethodHandle:_,estimatedTaxes:a,checkoutTotal:d,discountLines:y,totalSavings:g,deliveryLines:b,giftCardPaymentLines:S,redeemablePaymentLines:C})}),t&&s(p,{color:"subdued",children:x.translate("order_summary.confirmation_number_label",{confirmation_number:t})}),i&&s(c,{variant:"primary",size:"base",inlineSize:"fill",onClick:i?()=>window.open(i,"_blank"):void 0,children:s(u,{spacing:"tight",blockAlignment:"center",children:[s(p,{children:x.translate("thank_you.track_your_order_link_text")}),s(h,{type:"external",size:"small"})]})})]})})}function Uo({itemCount:e}){const{i18n:n}=f(),{confirmWithEmail:t,confirmWithPhone:i}=zr(),r=e>1,o=t?r?n.translate("thank_you.thank_you_confirmed_with_email_description.multi_store"):n.translate("thank_you.thank_you_confirmed_with_email_description.single_store"):i?r?n.translate("thank_you.thank_you_confirmed_with_phone_description.multi_store"):n.translate("thank_you.thank_you_confirmed_with_phone_description.single_store"):void 0;return s(te,{tone:"info",iconHidden:!0,heading:n.translate("thank_you.confirmed"),children:s(P,{children:o})})}function qo({shops:e}){var n;const[t,i]=k(null),[r,o]=k(!1),{i18n:a}=f(),{background:l,colorLayer:c}=Wt(),h=null===(n=Ri())||void 0===n?void 0:n.some((e=>"failed"===e.status));if(!e.length)return null;const m=e.find((e=>e.shopId===t));return s(d,{children:[s(L,{border:"base",borderRadius:"base",overflow:"hidden",background:l,colorLayer:c,children:s(A,{spacing:"base",padding:"base",children:[h?s(Uo,{itemCount:e.length}):null,e.map(((n,t)=>{var r,l;const d=t===e.length-1;return s(A,{children:[s(Po,{primaryText:s(u,{spacing:"extraTight",children:[s(Z,{textDecoration:"none",onClick:()=>{return e=n.shopId,i(e),void o(!0);var e},children:a.translate("thank_you.thank_you_item_label",{count:n.quantity})}),s(p,{children:bt}),s(p,{children:n.shopName||a.translate("thank_you.thank_you_from_other_store")})]}),secondaryText:n.orderConfirmationNumber?a.translate("order_summary.confirmation_number_label",{confirmation_number:n.orderConfirmationNumber}):void 0,orderAmount:n.checkoutTotal,thumbnailUrl:null===(r=n.merchandiseItems)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.image)||void 0===r?void 0:r.url,thumbnailAlt:null===(l=n.merchandiseItems)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.image)||void 0===l?void 0:l.altText}),!d&&s(vt,{below:"small",children:s(ye,{direction:"inline",borderWidth:"base"})})]},n.shopId)}))]})}),s(Do,{shopId:null==m?void 0:m.shopId,shopName:null==m?void 0:m.shopName,orderConfirmationNumber:null==m?void 0:m.orderConfirmationNumber,trackingUrl:null==m?void 0:m.trackingUrl,merchandiseItems:null==m?void 0:m.merchandiseItems,subtotal:null==m?void 0:m.subtotal,estimatedTaxes:null==m?void 0:m.estimatedTaxes,shippingTotal:null==m?void 0:m.shippingTotal,checkoutTotal:null==m?void 0:m.checkoutTotal,itemsCount:null==m?void 0:m.quantity,deliveryMethodHandle:null==m?void 0:m.deliveryMethodHandle,discountLines:null==m?void 0:m.discountLines,giftCardPaymentLines:null==m?void 0:m.giftCardPaymentLines,totalSavings:null==m?void 0:m.totalSavings,deliveryLines:null==m?void 0:m.deliveryLines,redeemablePaymentLines:null==m?void 0:m.redeemablePaymentLines,open:r,onClose:()=>{o(!1)},onAfterHide:()=>{i(null)}})]})}function Bo({itemCount:e}){const{i18n:n}=f();return s(te,{tone:"critical",heading:n.translate("thank_you.thank_you_unconfirmed_items_heading",{count:e}),children:s(P,{children:n.translate("thank_you.thank_you_unconfirmed_items_description",{count:e})})})}function Ho({shops:e}){var n;const[t,i]=k(null),[r,o]=k(!1),{i18n:a}=f(),{background:l,colorLayer:m}=Wt(),_=$(kt),y=b((()=>e.reduce(((e,n)=>e+n.quantity),0)),[e]);if(!e.length)return null;const g=e.find((e=>e.shopId===t)),v=null===(n=e[0])||void 0===n?void 0:n.recoveryUrl;return s(d,{children:[s(L,{border:"base",borderRadius:"base",overflow:"hidden",background:l,colorLayer:m,children:s(A,{spacing:"base",padding:"base",children:[s(Bo,{itemCount:y}),e.map(((n,t)=>{var r,l;const d=t===e.length-1;return s(A,{children:[s(Po,{primaryText:s(u,{spacing:"extraTight",children:[s(Z,{textDecoration:"none",onClick:()=>{return e=n.shopId,i(e),void o(!0);var e},children:a.translate("thank_you.thank_you_item_label",{count:n.quantity})}),s(p,{children:bt}),s(p,{children:n.shopName||a.translate("thank_you.thank_you_from_other_store")})]}),secondaryText:a.translate("payment_errors.generic_error"),orderAmount:n.checkoutTotal,thumbnailUrl:null===(r=n.merchandiseItems)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.image)||void 0===r?void 0:r.url,thumbnailAlt:null===(l=n.merchandiseItems)||void 0===l||null===(l=l[0])||void 0===l||null===(l=l.image)||void 0===l?void 0:l.altText,checkoutUrl:_?void 0:n.recoveryUrl,buttonText:_?void 0:n.shopName?a.translate("thank_you.checkout_on_remote_shop_link_text",{remoteShopName:n.shopName}):a.translate("thank_you.checkout_on_another_store")}),!d&&s(ye,{direction:"inline",borderWidth:"base"})]},n.shopId)})),_&&v&&s(c,{onClick:()=>window.open(v,"_blank"),inlineSize:"fill",variant:"primary",children:s(ne,{columns:["auto"],spacing:"extraTight",blockAlignment:"center",children:[s(p,{children:a.translate("thank_you.checkout_again")}),s(h,{type:"external",size:"small"})]})})]})}),s(Do,{shopId:null==g?void 0:g.shopId,shopName:null==g?void 0:g.shopName,merchandiseItems:null==g?void 0:g.merchandiseItems,subtotal:null==g?void 0:g.subtotal,estimatedTaxes:null==g?void 0:g.estimatedTaxes,checkoutTotal:null==g?void 0:g.checkoutTotal,itemsCount:null==g?void 0:g.quantity,open:r,onClose:()=>{o(!1)},onAfterHide:()=>{i(null)}})]})}const zo=e=>e.reduce(((e,n)=>e+n.quantity),0);function $o({confirmedShops:e,failedShops:n}){const{i18n:t}=f(),i=b((()=>zo(e)),[e]),r=i+b((()=>zo(n)),[n]);return s(E,{children:t.translate("thank_you.confirmed_items_count",{confirmed_count:i,total_count:r})})}function Wo(){const{confirmedShops:e,failedShops:n}=function(){var e;const n=Ri(),{shop:{name:t,id:i,brandSettings:r,remoteShopsConfigMap:o}}=f(),{totalLineQuantities:a}=Kn(),l=function(){const e=pe(),n=Yn(),t=xe(),i=null==e?void 0:e.purchaseOrder.paymentDue,r=null==e?void 0:e.checkoutTotal;return Vn({paymentDue:i,checkoutTotal:r,orderDeposit:t,hasFixedSellingPlan:n})}(),s=pe(),d=Qn(),{value:c}=Gn(),{value:u}=On("ONE_TIME_PURCHASE"),h=Nn(u),{value:p}=Xn(),m=Jn(),_=Zn("STORE_CREDIT","SHOP_CASH"),{paymentLines:y}=et(),{value:g}=nt(),v=U(),k=function(){const e=U();return b((()=>{const n=e.filter(Bn);if(!n.length)return;const[{methods:[{costAfterDiscounts:{currencyCode:t}}]}]=n;return{amount:n.reduce(((e,n)=>{var t,i;const r=null===(t=n.methods)||void 0===t?void 0:t.find((({handle:e})=>e===n.selectedDeliveryMethodHandle));return r?e+(null!==(i=r.costAfterDiscounts.amount)&&void 0!==i?i:0):e}),0),currencyCode:t}}),[e])}();return b((()=>{const e=[],u=[];if(null==n||!n.length)return{confirmedShops:[],failedShops:[]};if(a&&a>0){var f,b;const n=d.map((({stableId:e,title:n,subtitle:t,image:i,quantity:r,totalPrice:o})=>e?{id:e,title:n,subtitle:t||void 0,image:null!=i&&i.url?{url:i.url,altText:i.altText||void 0}:void 0,quantity:r,totalPrice:o}:null)).filter((e=>null!==e))||[],o=c&&"available_total"===c.status?c.totalTax:void 0,u={shopId:i,shopName:t,shopLogo:null==r||null===(f=r.squareLogo)||void 0===f?void 0:f.url,quantity:a,checkoutTotal:l,merchandiseItems:n,subtotal:null==s?void 0:s.subtotal,estimatedTaxes:o,shippingTotal:k,deliveryMethodHandle:null==h?void 0:h.title,orderConfirmationNumber:(null==s||null===(b=s.orderIdentity)||void 0===b?void 0:b.buyerIdentifier)||void 0,trackingUrl:(null==s?void 0:s.orderStatusPageUrl)||void 0,discountLines:null==p?void 0:p.lines,giftCardPaymentLines:m,redeemablePaymentLines:[..._,...y],totalSavings:g,deliveryLines:v};e.push(u)}return null!=n&&n.length&&n.forEach((n=>{if("submitted"===n.status){var t,i,r;const{orderIdentity:{buyerIdentifier:a},orderStatusPageUrl:l,remotePurchaseOrder:{merchandiseLines:s,deliveryLines:d,checkoutTotal:c,subtotalBeforeTaxesAndShipping:u,tax:h}}=n,p={shopId:n.shopId,shopName:null==o||null===(t=o.get(n.shopId))||void 0===t?void 0:t.name,shopLogo:null==o||null===(i=o.get(n.shopId))||void 0===i||null===(i=i.brandSettings)||void 0===i||null===(i=i.squareLogo)||void 0===i?void 0:i.url,quantity:xo(s),checkoutTotal:c,subtotal:u,estimatedTaxes:h,shippingTotal:Io(d),merchandiseItems:To(s)||[],deliveryMethodHandle:null==d||null===(r=d[0])||void 0===r?void 0:r.title,orderConfirmationNumber:a||void 0,trackingUrl:l||void 0};e.push(p)}if("failed"===n.status){var a,l;const{recoveryUrl:e,merchandiseLines:t,checkoutTotal:i,subtotalBeforeTaxesAndShipping:r,tax:s}=n,d={shopId:n.shopId,shopName:null==o||null===(a=o.get(n.shopId))||void 0===a?void 0:a.name,shopLogo:null==o||null===(l=o.get(n.shopId))||void 0===l||null===(l=l.brandSettings)||void 0===l||null===(l=l.squareLogo)||void 0===l?void 0:l.url,quantity:xo(t),checkoutTotal:i,subtotal:r,estimatedTaxes:s,merchandiseItems:To(t)||[],recoveryUrl:e};u.push(d)}})),{confirmedShops:e,failedShops:u}}),[n,i,t,a,l,s,null==r||null===(e=r.squareLogo)||void 0===e?void 0:e.url,o,d,c,h,p,g,v,k,m,_,y])}(),t=Boolean(null==n?void 0:n.length),i=Boolean(null==e?void 0:e.length);return i||t?s(A,{spacing:"base",children:[t?s($o,{confirmedShops:e,failedShops:n}):null,i?s(qo,{shops:e}):null,t?s(Ho,{shops:n}):null]}):null}}}}))}();
