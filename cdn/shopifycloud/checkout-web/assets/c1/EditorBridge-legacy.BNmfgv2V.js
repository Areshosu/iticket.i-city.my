!function(){function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?e(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(e,t,r,n,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,o)}function n(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function c(e){r(i,o,a,c,s,"next",e)}function s(e){r(i,o,a,c,s,"throw",e)}c(void 0)}))}}function o(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./app-legacy.CVtZXpP_.js"],(function(e,r){"use strict";var a,i,c,s,u,l;return{setters:[e=>{a=e.aN,i=e.cG,c=e.cH,s=e.bC,u=e.cI,l=e.cJ}],execute:function(){e("default",(function(){const e=i(),o=c(),S=s(),k=t=>{e.preview(t)},O=(r,n)=>{e.set(r,t(t({},e.configuration[r]),n))},j=(e,r)=>{o.set(e,t(t({},o.configuration[e]),r))},E=function(){var e=n((function*(e){var t,r;const{data:n,error:o}=yield S.query(p,{cache:!1});if(o)throw o;if(null==n||!n.shop)throw new b("Fonts query failed");O("primary"===e?"typographyPrimary":"typographySecondary",l(null!==(t=null===(r=n.shop.designSystem)||void 0===r||null===(r=r.typography)||void 0===r?void 0:r[e])&&void 0!==t?t:{}))}));return function(t){return e.apply(this,arguments)}}(),P=e=>null==e?void 0:e.image.originalSrc,x=e=>e&&e!==f?u(e):void 0;function R(e){j("header",{position:v(o)[e],alignment:_(o)[e]}),j("buyerJourney",{alignment:w(o)[e]})}return a((()=>{const e=function(e,o){const a=function(){var a=n((function*(n){if(n.origin===`https://${function(){if(null==window.Shopify)throw new r("Shopify object is missing");const{shop:e,editorDomain:t}=window.Shopify;if(null==t&&null==e){const e=new URLSearchParams(window.location.search).get(d);if(null==e)throw new r("Could not find Editor Domain on URL");return e}return t||e}()}`&&n.data.type===e){const e=n.data.payload;let r;try{const n=yield o(e);r=n?t(t({},n),{},{error:!1}):g}catch(a){const e=a instanceof Error?a.message:"";r=t(t({},h),{},{errorMessage:e})}window.parent.postMessage({id:n.data.id,type:n.data.type,payload:r},n.origin)}}));return function(e){return a.apply(this,arguments)}}();return window.addEventListener("message",a),()=>window.removeEventListener("message",a)}(I,U);return()=>e()}),[U=({settingId:e,settingValue:r})=>{var n;if(e.startsWith("checkout_"))switch(e){case"checkout_header_image":{const e="center"===o.configuration.header.alignment&&"inlineSecondary"!==o.configuration.header.position,n="start"===o.configuration.header.alignment,a=e?"center":n?"left":"right";return j("header",{banner:t(t({},o.configuration.header.banner),{},{image:P(r)})}),R(a)}case"checkout_logo_image":{const{logo:n}=o.configuration.header,a=null!=n&&n.maxWidth&&null!=n&&n.aspectRatio?10*Math.round(n.maxWidth/n.aspectRatio/10):y.medium;return r?void(e=>{const t=new Image,r=new Promise((e=>{t.onload=()=>{e({width:t.width,height:t.height})}}));return t.src=e,r})(P(r)).then((({width:e,height:o})=>{const i=e/o,c=a*i;j("header",{logo:t(t({},n),{},{image:P(r),maxWidth:c,aspectRatio:i})})})).catch((()=>{throw new b(`${e} is not handled!`)})):void j("header",{logo:t(t({},o.configuration.header.logo),{},{image:void 0,maxWidth:a,aspectRatio:1})})}case"checkout_logo_position":return j("header",{colorScheme:"start"===r?"scheme1":"inherit"}),R(r);case"checkout_logo_size":if(null!==(n=o.configuration.header.logo)&&void 0!==n&&n.aspectRatio){const e=y[r]*o.configuration.header.logo.aspectRatio;j("header",{logo:t(t({},o.configuration.header.logo),{},{maxWidth:e})})}else j("header",{logo:t(t({},o.configuration.header.logo),{},{maxWidth:y[r],aspectRatio:1})});return;case"checkout_body_background_color":return k({schemes:{scheme1:{base:{background:x(r)}}}});case"checkout_body_background_image":return j("canvas",{backgroundImage:P(r)});case"checkout_input_background_color_mode":return O("control",{background:m[r]});case"checkout_sidebar_background_image":return j("orderSummary",{backgroundImage:P(r)});case"checkout_sidebar_background_color":return k({schemes:{scheme2:{base:{background:x(r)}}}});case"checkout_heading_font":return E("secondary");case"checkout_body_font":return E("primary");case"checkout_accent_color":return k({global:{accent:x(r)}});case"checkout_button_color":return k({global:{brand:x(r)}});case"checkout_error_color":return k({global:{critical:x(r)}});default:throw new b(`${e} is not handled!`)}},I="StorefrontMessage::BroadcastSettingUpdate"]),null;var I,U}));let r=class extends Error{constructor(...e){super(...e),o(this,"name","EditorBridgeError")}};const d="editor_domain",g={error:!1},h={error:!0},p={id:"1ddc80dd1747cfb53029784271e481f3361746816882735d1284cb4b37994106",type:"query",name:"Fonts",source:"query Fonts($onlineStoreEditorSessionId:String){shop{id designSystem(onlineStoreEditorSessionId:$onlineStoreEditorSessionId){typography{...GlobalTypographyFragment __typename}__typename}__typename}}fragment GlobalTypographyFragment on Typography{size{base ratio __typename}primary{name loadingStrategy base{weight sources preloadUrl style __typename}bold{weight sources preloadUrl style __typename}__typename}secondary{name loadingStrategy base{weight sources preloadUrl style __typename}bold{weight sources preloadUrl style __typename}__typename}__typename}"},f="rgba(0,0,0,0)",y={small:40,medium:60,large:80},m={transparent:"transparent",white:void 0};class b extends Error{constructor(...e){super(...e),o(this,"name","EditorBridgeError")}}function _(e){var t;return null!==(t=e.configuration.header)&&void 0!==t&&null!==(t=t.banner)&&void 0!==t&&t.image?{left:"start",center:"center",right:"end"}:{left:"start",center:"center",right:"center"}}function v(e){var t;return null!==(t=e.configuration.header)&&void 0!==t&&null!==(t=t.banner)&&void 0!==t&&t.image?{left:"start",center:"start",right:"start"}:{left:"inline",center:"inline",right:"inlineSecondary"}}function w(e){var t;return null!==(t=e.configuration.header)&&void 0!==t&&null!==(t=t.banner)&&void 0!==t&&t.image?{left:"start",center:"start",right:"start"}:{left:"start",center:"center",right:"start"}}}}}))}();
