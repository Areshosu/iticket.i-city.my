System.register(["./app-legacy.CVtZXpP_.js"],(function(e,r){"use strict";var t,s,i,n,o,a,l,d,u,c,v,f,p,y;return{setters:[e=>{t=e.i,s=e.z,i=e.A,n=e.B,o=e.D,a=e.F,l=e.E,d=e.G,u=e.k,c=e.H,v=e.I,f=e.J,p=e.K,y=e.L}],execute:function(){e({b:function(e){const r=m(e),[t]=p();return u((()=>r(t)),[r,t])},u:m});const r="ephemeral-address-from-initial-negotiation";function m(e){const{cart:p}=t(),y=p.proposal.negotiated.fields.availableDeliveryAddresses,m=p.proposal.negotiated.fields.mustSelectProvidedAddress,_=function(){const{data:e}=i(),{redirect_source:r}=n(),t=o(a),s=o(l),p=o(d);return u((()=>{var i;const n=r===c.ShopPayInstallmentsAsPaymentMethod;if(!t||"NegotiationResultAvailable"!==(null==e||null===(i=e.session)||void 0===i?void 0:i.negotiate.result.__typename)||!n)return;const{sellerProposal:o,buyerProposal:a}=e.session.negotiate.result;return v({delivery:o.delivery,buyerDelivery:a.delivery,remoteDelivery:p?f(o.remote,s).remoteDelivery:void 0})}),[e,r,t,p,s])}();return s((t=>{var s;if("shipping"!==e)return[];if(m.value)return y.value||[];const i=(null===(s=y.value)||void 0===s?void 0:s.filter((e=>!g(t,e.address))))||[];return _&&(g([...i,...t],_)||i.push({id:r,address:_})),i}),[_,e,y,m])}function g(e,r){return e.some((e=>y(e.address,r)))}e("c","f_9cacaad2"),e("F","f_72d37626"),e("a","f_4939d219")}}}));
