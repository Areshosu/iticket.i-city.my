System.register(["./app-legacy.CVtZXpP_.js"],(function(e,t){"use strict";var n,a,r,i,l,o,s,c,d,h,u,m,g,p,b,f,y,v,_,x,w,z,k,A,N,P,R,B,T,O,M,S,I,q,U,C,E,j,D,G,H,K,L,Q,W,Y,$;return{setters:[e=>{n=e.a,a=e.T,r=e.ar,i=e.aX,l=e.ao,o=e.aS,s=e.i,c=e.R,d=e.aD,h=e.W,u=e.aT,m=e.da,g=e.k,p=e.ah,b=e.at,f=e.ag,y=e.as,v=e.aU,_=e._,x=e.db,w=e.dc,z=e.dd,k=e.b7,A=e.aM,N=e.cd,P=e.cc,R=e.aN,B=e.de,T=e.a2,O=e.a3,M=e.df,S=e.u,I=e.cO,q=e.dg,U=e.bf,C=e.dh,E=e.an,j=e.bt,D=e.bq,G=e.br,H=e.bs,K=e.bo,L=e.bl,Q=e.P,W=e.S,Y=e.di,$=e.d9}],execute:function(){var t=document.createElement("style");function X(e){return!1===e.available}function Z({heading:e,details:t,children:s}){return n(o,{borderRadius:"base",border:"base",children:[n(a,{padding:"large200",accessibilityRole:"header",children:n(r,{blockAlignment:"baseline",spacing:"small200",children:[n(i,{level:2,children:e}),n(l,{color:"subdued",type:"small",children:t})]})}),n(a,{border:["base","none","none","none"],padding:"large200",children:s})]})}function F(){const{i18n:e,shop:{hasStorefront:t},url:a}=s();return n(h,{spacing:"small200",inlineAlignment:"center",padding:"large300",children:[n(i,{level:1,children:e.translate("throttle.inventory.sold_out.heading")}),t?n(c,{children:[n(l,{size:"large",textAlign:"center",children:e.translate("throttle.inventory.sold_out.storefront_body")}),n(l,{textAlign:"center",children:n(d,{href:a.storefront(),children:e.translate("throttle.inventory.sold_out.link")})})]}):n(l,{size:"large",textAlign:"center",children:e.translate("throttle.inventory.sold_out.no_storefront_body")})]})}t.textContent="[dir=ltr] .NMORO{margin-left:-1em}[dir=rtl] .NMORO{margin-right:-1em}.NMORO{--ProgressBar-animation-duration: 2.9s;height:2.2857142857142856em;width:var(--ProgressBar-width);display:flex;justify-content:space-between}.zetxR{background:var(--x-default-color-brand);border-radius:2em;width:.5em;animation-name:HwwY4;animation-duration:var(--ProgressBar-animation-duration, 2.9s);animation-timing-function:cubic-bezier(.25,.1,.25,1);animation-iteration-count:infinite}.zetxR:first-child{opacity:0;animation-name:IcnMK;animation-duration:var(--ProgressBar-animation-duration, 2.9s);animation-timing-function:cubic-bezier(.25,.1,.25,1);animation-iteration-count:infinite}.zetxR:last-child{animation-name:zQ0U8;animation-duration:var(--ProgressBar-animation-duration, 2.9s);animation-timing-function:var(--x-timing-base);animation-iteration-count:infinite}@keyframes HwwY4{0%{transform:translate(0)}85%{transform:translate(0)}to{transform:translate(1em)}}@keyframes IcnMK{0%{transform:translate(0)}85%{opacity:0;transform:translate(0)}to{opacity:1;transform:translate(1em)}}@keyframes zQ0U8{0%{transform:translate(0)}75%{opacity:1;transform:translate(0)}85%{opacity:0;transform:translate(1.5em)}to{opacity:0;transform:translate(1.5em)}}.broxv{text-transform:var(--x-global-typography-letter-case, uppercase)}.hG8Tu{font-weight:var(--x-typography-primary-weight-bold);text-transform:var(--x-global-typography-letter-case, uppercase)}\n/*$vite$:1*/",document.head.appendChild(t),e("default",(function(){const{progress:e}=_(),{throttle:t,lastUpdated:r}=x(),{i18n:i,shop:d,url:u,telemetryClient:m}=s(),g=w(),p=z(),f=k(),y="complete"===t.status||"queued"===t.status?function(e){return e.every(X)?"unavailable":e.some(X)?"partially_available":"available"}(p):null,v=A(e),J=N(),{currentPage:V}=P();v.current=e;const ee=A(!1);R((()=>{ee.current||y&&(m.counter({name:"throttle_rendered",value:1,attributes:{throttle_status:t.status,inventory_status:y,merchandise_available:p.filter((({available:e})=>e)).length,merchandise_unavailable:p.filter((({available:e})=>!e)).length,has_storefront:d.hasStorefront}}),ee.current=!0)}),[y,p,m,d,t.status]),B("complete"===t.status&&"hidden"===g?i.translate("throttle.time_to_checkout_title",{shopName:d.name}):"loading"===t.status?i.translate("general.loading_title",{shopName:d.name}):i.translate("general.full_title",{pageTitle:i.translate("throttle.title"),shopName:d.name}));const ae=null==V?void 0:V.route;R((()=>{!function e(){v.current("throttle-run",(({status:t})=>{"throttled"===t&&f.current?e():"error"===t&&(ae?J.navigate(ae,{replace:!0}):window.location.assign(u.cart()))}))}()}),[v,f,u,ae,J]),T({stage:O.Usable,id:"Throttle"});const{main:{section:re}}=M(),{throttleLineItems:{spacing:ie}}=S(),{header:{logo:le}}=M();return"inactive"===t.status?null:n($,{placeItems:"center",minBlockSize:"100vh",background:"base",children:n(I,{maxInlineSize:"450px",padding:"base",children:n(q,{style:re,children:n(o,{accessibilityLabel:i.translate("throttle.title"),children:n(h,{children:[le&&n(U,{inlineAlignment:"center",children:n(C,{width:le.maxWidth})}),n("unavailable"===y?F:te,{}),p.length>0?n(Z,{heading:i.translate("throttle.cart_summary_heading"),details:i.translate("throttle.last_checked",{time:i.formatDate(r,{hour:"numeric",minute:"numeric",timeZoneName:"short"})}),children:["partially_available"===y?n(c,{children:[n(ne,{}),n(E,{spacing:"large200"})]}):null,n(j,{spacing:ie,children:[n(D,{hidden:!0,children:[n(G,{hidden:!0,children:i.translate("order_summary.product_image_label")}),n(G,{hidden:!0,children:i.translate("order_summary.description_label")})]}),n(H,{children:p.map((({digest:e,image:t,available:a,title:r,subtitle:i,quantity:o,properties:s})=>n(K,{children:[n(L,{children:n(Q,{source:t?W.default(t.one).when({resolution:1},t.one).when({resolution:2},t.two).when({resolution:4},t.four):void 0,alt:r,totalItems:o})}),n(L,{primary:!0,children:[n(l,{children:n(b,{type:"strong",children:r})}),i?n(l,{color:"subdued",children:i}):null,s?n(Y,{properties:s}):null,null==a?null:n(oe,{available:a})]})]},e)))})]})]}):null,"unavailable"===y?null:n(a,{padding:["large200","none"],children:n(h,{inlineAlignment:"center",spacing:"small200",accessibilityRole:"footer",children:[n(l,{color:"subdued",textAlign:"center",children:i.translate("throttle.footer.heading")}),n(l,{color:"subdued",textAlign:"center",children:i.translate("throttle.footer.body")})]})})]})})})})})}));const J={ProgressBar:"NMORO","ProgressBar-line":"zetxR"};function V({barCount:e=7}){const t={"--ProgressBar-width":13*e+"px"},a=[];for(let r=0;r<e;r++)a.push(n("div",{className:u(J["ProgressBar-line"])},r));return n("div",{className:J.ProgressBar,style:t,children:a})}const ee=60;function te(){const{i18n:e}=s(),{throttle:t}=m(),a="queued"===t.status?t.queueEtaSeconds:0,r=g((()=>null==a?e.translate("throttle.estimated_wait_time.calculating"):a<ee?e.translate("throttle.estimated_wait_time.less_than_one"):e.translate("throttle.estimated_wait_time",{count:Math.round(a/ee)})),[a,e]);return n(h,{inlineAlignment:"center",spacing:"large200",padding:"large200",children:[n(V,{}),n(h,{spacing:"small200",inlineAlignment:"center",children:[n(i,{level:1,textAlign:"center",children:e.translate("throttle.line_to_check_out")}),n(l,{size:"base",children:r})]})]})}function ne(){const{i18n:e}=s();return n(f,{tone:"warning",errorType:p.InventoryError,children:n(l,{type:"small",children:n(b,{type:"strong",children:e.translate("throttle.inventory.partial_inventory_banner")})})})}const ae={Text:"broxv"};function re(){const{i18n:e}=s(),t=e.translate("throttle.merchandise.available").trim();return 0===t.length?null:n(l,{children:n(r,{spacing:"small400",blockAlignment:"center",children:[n(y,{size:"small-200",tone:"success",type:"check"}),n(b,{type:"strong",tone:"success",size:"small",children:n("span",{className:ae.Text,children:t})})]})})}const ie={Text:"hG8Tu"};function le(){const{i18n:e}=s(),t=e.translate("throttle.merchandise.sold_out").trim();return 0===t.length?null:n(v,{children:n(r,{spacing:"small400",blockAlignment:"center",children:[n(y,{size:"small-200",tone:"critical",type:"disabled"}),n(b,{size:"small",children:n("span",{className:ie.Text,children:t})})]})})}function oe({available:e}){return n(e?re:le,{})}}}}));
