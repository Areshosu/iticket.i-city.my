System.register(["./app-legacy.CVtZXpP_.js"],(function(e,r){"use strict";var t,o,n,a,i,s,u,l,c,p,d,y,_,h,f;return{setters:[e=>{t=e.sc,o=e.sd,n=e.dX,a=e.e_,i=e.K,s=e.k,u=e.L,l=e.i,c=e.z,p=e.cc,d=e.cd,y=e.lE,_=e.aN,h=e.a,f=e.du}],execute:function(){e("a",(function(){const[e]=t(),[r]=o(),{shippingRequired:l}=n(),[c]=a(),[p]=i(),d=Boolean(null==c?void 0:c.requiresVerification),y=s((()=>!!c&&!p.some((e=>u(e.address,c.address)))),[c,p]);return(!l||d||y)&&("email"===r||!e)}));const r=e("u",(()=>{const{shop:{hasStorefront:e},telemetryClient:r,url:t}=l();return{replaceShopPayInHistory:c((o=>{o?window.location.replace(o):e?(r.log("shop_pay_in_history_storefront_redirected","[Shop Pay] Redirecting to storefront url, as replacementUrl is not provided"),window.location.replace(t.storefront())):(r.counter({name:"shop_pay_cannot_replace_browser_history",value:1}),r.log("shop_pay_cannot_replace_browser_history","[Shop Pay] Unable to replace Shop Pay in browser history",{replacementUrl:o,storefrontUrl:t.storefront()}))}),[e,r,t])}}));class m extends Error{constructor(e){var r,t,o;super(e),r=this,o="RouteNotFoundError",(t=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(t="name"))in r?Object.defineProperty(r,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[t]=o}}const v=Object.freeze(Object.defineProperty({__proto__:null,RouteNotFoundError:m,default:function(){const{currentPage:e}=p(),{currentUrl:{search:t,pathname:o}}=d(),{telemetryClient:n}=l(),a=o.includes("/shoppay"),i=y(),{replaceShopPayInHistory:s}=r(),u=e&&!a;return _((()=>{a&&(n.error(new m('Attempted to render "/shoppay" route in 3 page layout, which is not supported')),n.counter({name:"shop_pay_route_not_found",value:1}),s(null==i?void 0:i.checkout_as_guest_url))}),[a,t,n,s,null==i?void 0:i.checkout_as_guest_url]),u?h(f,{to:{pathname:e.route,search:t}}):null}},Symbol.toStringTag,{value:"Module"}));e("N",v)}}}));
